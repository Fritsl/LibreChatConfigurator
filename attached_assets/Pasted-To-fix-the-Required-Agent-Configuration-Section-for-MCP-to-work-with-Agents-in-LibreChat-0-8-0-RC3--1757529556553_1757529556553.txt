To fix the Required Agent Configuration Section for MCP to work with Agents in LibreChat 0.8.0 RC3, you need to add an agents section to your librechat.yaml configuration file. This section is separate from the ui agents setting and is required for the Agent Builder functionality to work properly with MCP servers.
The agents configuration section defines how agents behave and what capabilities they have access to. Without this section, the Agent Builder interface cannot properly initialize MCP servers as available tools for agents to use. The section needs to include defaultRecursionLimit which sets how many nested tool calls an agent can make, maxRecursionLimit which sets the maximum allowed recursion depth, disableBuilder which should be false to enable the Agent Builder interface, and capabilities which is an array listing what types of tools agents can use including execute_code, file_search, actions, and tools.
When you have ui agents set to true but no agents configuration section, LibreChat enables the Agent Builder interface but cannot properly configure the agent runtime environment. This means MCP servers will initialize successfully at the application level but will not be available as selectable tools when creating or editing agents in the Agent Builder.
The reason this configuration is required is that LibreChat 0.8.0 RC3 uses a sophisticated agent framework that needs explicit configuration for security and resource management. The recursion limits prevent infinite loops in agent tool calls, the capabilities array ensures only authorized tool types are available, and the builder settings control access to the agent creation interface.
After adding the agents configuration section with the proper settings, restart LibreChat completely. Then navigate to the Agent Builder interface where you should see your MCP servers listed as available tools that can be added to agents. You can then create new agents and assign specific MCP tools to them, giving you granular control over which tools each agent can access.