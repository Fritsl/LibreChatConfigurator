import { z } from "zod";

/**
 * Centralized Field Registry
 * 
 * SINGLE SOURCE OF TRUTH for all configuration fields.
 * Adding a new field requires only updating this registry - everything else is auto-generated.
 */

// Field types supported by the registry
export type FieldType = 
  | 'string' 
  | 'boolean' 
  | 'number' 
  | 'array' 
  | 'object'
  | 'enum'
  | 'url'
  | 'email'
  | 'custom-endpoints'
  | 'mcp-servers'
  | 'web-search'
  | 'oauth-providers'
  | 'meilisearch-integration'
  | 'caching-integration'
  | 'file-storage'
  | 'email-composite'
  | 'endpoint-file-limits'
  | 'file-types'
  | 'endpoint-selector'
  | 'strategy-dropdown';

// Field descriptor - defines all metadata for a configuration field
export interface FieldDescriptor {
  // Unique identifier (camelCase config field name)
  id: string;
  
  // Environment variable name (SCREAMING_SNAKE_CASE)
  envKey?: string;
  
  // YAML path (dot-notation for nested fields, e.g., "endpoints.openAI.titleModel")
  yamlPath?: string;
  
  // Config path override (for structural mismatches between YAML and internal schema)
  // Example: LibreChat YAML has "speech.stt.openai.url" but our config stores at "stt.baseURL"
  configPath?: string;
  
  // Field type
  type: FieldType;
  
  // Default value
  defaultValue: any;
  
  // Category for UI organization
  category: string;
  
  // Zod schema for validation (optional, for complex types)
  zodSchema?: z.ZodTypeAny;
  
  // For enum types
  enumValues?: readonly string[];
  
  // For array types
  arrayItemType?: FieldType;
  arrayItemSchema?: z.ZodTypeAny;
  
  // For number types
  min?: number;
  max?: number;
  
  // Description/documentation
  description?: string;
  
  // Whether this field should be exported to .env (some YAML-only fields shouldn't)
  exportToEnv?: boolean;
  
  // Whether this field should be exported to YAML (some .env-only fields shouldn't)
  exportToYaml?: boolean;
  
  // Known LibreChat bugs affecting this field (used for UI warnings and workarounds)
  librechatBug?: {
    description: string;
    workaround: string;
    affectedVersions?: string;
  };
  
  // For strategy-dropdown type - specifies which variant to render
  strategyVariant?: 'file-storage' | 'image-output';
  
  // Custom transformer for env string -> typed value
  envTransformer?: (value: string) => any;
  
  // Custom transformer for YAML value -> config value
  yamlTransformer?: (value: any) => any;
  
  // For nested object fields - child fields
  children?: FieldDescriptor[];
}

/**
 * Field Registry - All configuration fields defined here
 * 
 * When adding a new field:
 * 1. Add it to this registry with complete metadata
 * 2. That's it! Import/export/validation/schema generation all happen automatically
 */
export const FIELD_REGISTRY: FieldDescriptor[] = [
  // =============================================================================
  // App Configuration
  // =============================================================================
  {
    id: 'version',
    yamlPath: 'version',
    type: 'string',
    defaultValue: '0.8.0-rc4',
    category: 'app',
    description: 'LibreChat version',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'cache',
    yamlPath: 'cache',
    type: 'boolean',
    defaultValue: true,
    category: 'app',
    description: 'Enable caching',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileStrategy',
    yamlPath: 'fileStrategy',
    type: 'strategy-dropdown',
    defaultValue: '',
    category: 'app',
    description: 'Choose how files are stored (local disk, S3, Firebase, Azure)',
    strategyVariant: 'file-storage',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'imageOutputType',
    yamlPath: 'imageOutputType',
    type: 'strategy-dropdown',
    defaultValue: '',
    category: 'app',
    description: 'Select image compression format (PNG, JPEG, WebP)',
    strategyVariant: 'image-output',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'secureImageLinks',
    yamlPath: 'secureImageLinks',
    type: 'boolean',
    defaultValue: false,
    category: 'app',
    description: 'Secure image link flag',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'temporaryChatRetention',
    yamlPath: 'temporaryChatRetention',
    type: 'number',
    defaultValue: 720,
    category: 'app',
    description: 'Chat retention time in minutes',
    min: 1,
    max: 43200,
    exportToEnv: false,
    exportToYaml: true,
  },
  
  // Internal-only Configuration Metadata
  {
    id: 'configurationName',
    type: 'string',
    defaultValue: 'My LibreChat Configuration',
    category: 'app',
    description: 'User-defined name for this configuration (internal-only, not exported)',
    exportToEnv: false,
    exportToYaml: false,
  },
  
  {
    id: 'appTitle',
    envKey: 'APP_TITLE',
    type: 'string',
    defaultValue: 'LibreChat',
    category: 'app',
    description: 'Application title',
  },
  {
    id: 'customWelcome',
    envKey: 'CUSTOM_WELCOME',
    // yamlPath removed - dual-placement bug fixed, now ENV-only (top-level in schema)
    type: 'string',
    defaultValue: '',
    category: 'app',
    description: 'Custom welcome message',
  },
  {
    id: 'customFooter',
    envKey: 'CUSTOM_FOOTER',
    // yamlPath removed - dual-placement bug fixed, now ENV-only (top-level in schema)
    type: 'string',
    defaultValue: '',
    category: 'app',
    description: 'Custom footer text',
    librechatBug: {
      description: 'LibreChat frontend missing TypeScript definition for customFooter in YAML config interface, causing value to be filtered out before reaching UI',
      workaround: 'Use CUSTOM_FOOTER in .env file instead - environment variables bypass the type filtering issue',
      affectedVersions: 'v0.8.0-rc4 and earlier'
    }
  },
  {
    id: 'helpAndFAQURL',
    envKey: 'HELP_AND_FAQ_URL',
    type: 'url',
    defaultValue: '',
    category: 'app',
    description: 'Help and FAQ URL',
  },
  {
    id: 'showBirthdayIcon',
    envKey: 'SHOW_BIRTHDAY_ICON',
    type: 'boolean',
    defaultValue: false,
    category: 'app',
    description: 'Show birthday hat icon on February 11th (LibreChat\'s birthday). Set to true to always show, false to never show.',
  },
  
  // =============================================================================
  // Server Configuration
  // =============================================================================
  {
    id: 'host',
    envKey: 'HOST',
    type: 'string',
    defaultValue: '0.0.0.0',
    category: 'server',
    description: 'Server host',
  },
  {
    id: 'port',
    envKey: 'PORT',
    type: 'number',
    defaultValue: 3080,
    category: 'server',
    description: 'Server port',
    min: 1,
    max: 65535,
  },
  {
    id: 'nodeEnv',
    envKey: 'NODE_ENV',
    type: 'enum',
    enumValues: ['development', 'production', 'test'] as const,
    defaultValue: 'production',
    category: 'server',
    description: 'Node environment',
  },
  {
    id: 'domainClient',
    envKey: 'DOMAIN_CLIENT',
    type: 'string',
    defaultValue: '',
    category: 'server',
    description: 'Client domain',
  },
  {
    id: 'domainServer',
    envKey: 'DOMAIN_SERVER',
    type: 'string',
    defaultValue: '',
    category: 'server',
    description: 'Server domain',
  },
  {
    id: 'noIndex',
    envKey: 'NO_INDEX',
    type: 'boolean',
    defaultValue: false,
    category: 'server',
    description: 'Disable search engine indexing',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Core AI API Keys
  // =============================================================================
  {
    id: 'openaiApiKey',
    envKey: 'OPENAI_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'OpenAI API Key',
  },
  {
    id: 'openaiApiBase',
    envKey: 'OPENAI_API_BASE',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'OpenAI API Base URL',
  },
  {
    id: 'openaiReverseProxy',
    envKey: 'OPENAI_REVERSE_PROXY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'OpenAI Reverse Proxy URL (deprecated, use custom endpoints)',
  },
  {
    id: 'openaiModeration',
    envKey: 'OPENAI_MODERATION',
    type: 'boolean',
    defaultValue: false,
    category: 'ai-providers',
    description: 'Enable OpenAI content moderation',
  },
  {
    id: 'openaiModerationApiKey',
    envKey: 'OPENAI_MODERATION_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'OpenAI Moderation API Key',
  },
  {
    id: 'openaiModerationReverseProxy',
    envKey: 'OPENAI_MODERATION_REVERSE_PROXY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'OpenAI Moderation Reverse Proxy URL',
  },
  {
    id: 'anthropicApiKey',
    envKey: 'ANTHROPIC_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Anthropic API Key',
  },
  {
    id: 'googleApiKey',
    envKey: 'GOOGLE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Google AI API Key',
  },
  {
    id: 'groqApiKey',
    envKey: 'GROQ_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Groq API Key',
  },
  {
    id: 'mistralApiKey',
    envKey: 'MISTRAL_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Mistral AI API Key',
  },
  
  {
    id: 'deepseekApiKey',
    envKey: 'DEEPSEEK_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'DeepSeek API Key',
  },
  {
    id: 'perplexityApiKey',
    envKey: 'PERPLEXITY_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Perplexity API Key',
  },
  {
    id: 'fireworksApiKey',
    envKey: 'FIREWORKS_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Fireworks AI API Key',
  },
  {
    id: 'togetheraiApiKey',
    envKey: 'TOGETHERAI_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Together AI API Key',
  },
  {
    id: 'huggingfaceToken',
    envKey: 'HUGGINGFACE_TOKEN',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Hugging Face Token',
  },
  {
    id: 'xaiApiKey',
    envKey: 'XAI_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'xAI API Key',
  },
  {
    id: 'nvidiaApiKey',
    envKey: 'NVIDIA_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'NVIDIA API Key',
  },
  {
    id: 'sambanovaApiKey',
    envKey: 'SAMBANOVA_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'SambaNova API Key',
  },
  {
    id: 'hyperbolicApiKey',
    envKey: 'HYPERBOLIC_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Hyperbolic API Key',
  },
  {
    id: 'klusterApiKey',
    envKey: 'KLUSTER_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Kluster API Key',
  },
  {
    id: 'nanogptApiKey',
    envKey: 'NANOGPT_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'NanoGPT API Key',
  },
  {
    id: 'glhfApiKey',
    envKey: 'GLHF_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'GLHF API Key',
  },
  {
    id: 'apipieApiKey',
    envKey: 'APIPIE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'APIPie API Key',
  },
  {
    id: 'unifyApiKey',
    envKey: 'UNIFY_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Unify API Key',
  },
  {
    id: 'openrouterKey',
    envKey: 'OPENROUTER_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'OpenRouter API Key',
  },
  
  // =============================================================================
  // Azure OpenAI
  // =============================================================================
  {
    id: 'azureApiKey',
    envKey: 'AZURE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Azure OpenAI API Key',
  },
  {
    id: 'azureOpenaiApiInstanceName',
    envKey: 'AZURE_OPENAI_API_INSTANCE_NAME',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Azure OpenAI Instance Name',
  },
  {
    id: 'azureOpenaiApiDeploymentName',
    envKey: 'AZURE_OPENAI_API_DEPLOYMENT_NAME',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Azure OpenAI Deployment Name',
  },
  {
    id: 'azureOpenaiApiVersion',
    envKey: 'AZURE_OPENAI_API_VERSION',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Azure OpenAI API Version',
  },
  {
    id: 'azureOpenaiModels',
    envKey: 'AZURE_OPENAI_MODELS',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'Azure OpenAI Models (comma-separated)',
  },
  
  // =============================================================================
  // AWS Bedrock
  // =============================================================================
  {
    id: 'bedrockAccessKeyId',
    envKey: 'BEDROCK_ACCESS_KEY_ID',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'AWS Bedrock Access Key ID',
  },
  {
    id: 'bedrockSecretAccessKey',
    envKey: 'BEDROCK_SECRET_ACCESS_KEY',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'AWS Bedrock Secret Access Key',
  },
  {
    id: 'bedrockRegion',
    envKey: 'BEDROCK_REGION',
    type: 'string',
    defaultValue: '',
    category: 'ai-providers',
    description: 'AWS Bedrock Region',
  },
  
  // =============================================================================
  // Web Search
  // =============================================================================
  {
    id: 'serperApiKey',
    envKey: 'SERPER_API_KEY',
    yamlPath: 'webSearch.serperApiKey',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Serper API Key',
  },
  {
    id: 'searxngInstanceUrl',
    envKey: 'SEARXNG_INSTANCE_URL',
    yamlPath: 'webSearch.searxngInstanceUrl',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'SearXNG Instance URL',
  },
  {
    id: 'searxngApiKey',
    envKey: 'SEARXNG_API_KEY',
    yamlPath: 'webSearch.searxngApiKey',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'SearXNG API Key',
  },
  {
    id: 'firecrawlApiKey',
    envKey: 'FIRECRAWL_API_KEY',
    yamlPath: 'webSearch.firecrawlApiKey',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Firecrawl API Key',
  },
  {
    id: 'firecrawlApiUrl',
    envKey: 'FIRECRAWL_API_URL',
    yamlPath: 'webSearch.firecrawlApiUrl',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Firecrawl API URL',
  },
  {
    id: 'webSearchFirecrawlOptionsFormats',
    yamlPath: 'webSearch.firecrawlOptions.formats',
    type: 'array',
    defaultValue: [],
    category: 'web-search',
    arrayItemType: 'string',
    description: 'Firecrawl output formats',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsOnlyMainContent',
    yamlPath: 'webSearch.firecrawlOptions.onlyMainContent',
    type: 'boolean',
    defaultValue: false,
    category: 'web-search',
    description: 'Firecrawl only main content',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsTimeout',
    yamlPath: 'webSearch.firecrawlOptions.timeout',
    type: 'number',
    defaultValue: 30000,
    category: 'web-search',
    description: 'Firecrawl timeout in milliseconds',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsWaitFor',
    yamlPath: 'webSearch.firecrawlOptions.waitFor',
    type: 'number',
    defaultValue: 0,
    category: 'web-search',
    description: 'Firecrawl wait time in milliseconds',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsBlockAds',
    yamlPath: 'webSearch.firecrawlOptions.blockAds',
    type: 'boolean',
    defaultValue: false,
    category: 'web-search',
    description: 'Firecrawl block ads',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsRemoveBase64Images',
    yamlPath: 'webSearch.firecrawlOptions.removeBase64Images',
    type: 'boolean',
    defaultValue: false,
    category: 'web-search',
    description: 'Firecrawl remove base64 images',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsMobile',
    yamlPath: 'webSearch.firecrawlOptions.mobile',
    type: 'boolean',
    defaultValue: false,
    category: 'web-search',
    description: 'Firecrawl mobile mode',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsMaxAge',
    yamlPath: 'webSearch.firecrawlOptions.maxAge',
    type: 'number',
    defaultValue: 0,
    category: 'web-search',
    description: 'Firecrawl cache max age',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsProxy',
    yamlPath: 'webSearch.firecrawlOptions.proxy',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Firecrawl proxy URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsIncludeTags',
    yamlPath: 'webSearch.firecrawlOptions.includeTags',
    type: 'array',
    defaultValue: [],
    category: 'web-search',
    arrayItemType: 'string',
    description: 'HTML tags to include in Firecrawl output',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsExcludeTags',
    yamlPath: 'webSearch.firecrawlOptions.excludeTags',
    type: 'array',
    defaultValue: [],
    category: 'web-search',
    arrayItemType: 'string',
    description: 'HTML tags to exclude from Firecrawl output',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsHeaders',
    yamlPath: 'webSearch.firecrawlOptions.headers',
    type: 'object',
    defaultValue: {},
    category: 'web-search',
    description: 'Custom HTTP headers for Firecrawl requests',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsParsePDF',
    yamlPath: 'webSearch.firecrawlOptions.parsePDF',
    type: 'boolean',
    defaultValue: true,
    category: 'web-search',
    description: 'Enable PDF parsing in Firecrawl',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsSkipTlsVerification',
    yamlPath: 'webSearch.firecrawlOptions.skipTlsVerification',
    type: 'boolean',
    defaultValue: false,
    category: 'web-search',
    description: 'Skip TLS certificate verification in Firecrawl',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsStoreInCache',
    yamlPath: 'webSearch.firecrawlOptions.storeInCache',
    type: 'boolean',
    defaultValue: true,
    category: 'web-search',
    description: 'Store scraped content in Firecrawl cache',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsZeroDataRetention',
    yamlPath: 'webSearch.firecrawlOptions.zeroDataRetention',
    type: 'boolean',
    defaultValue: false,
    category: 'web-search',
    description: 'Enable zero data retention in Firecrawl (requires prior setup)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsLocation',
    yamlPath: 'webSearch.firecrawlOptions.location',
    type: 'object',
    defaultValue: {},
    category: 'web-search',
    description: 'Geographic location settings for Firecrawl',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchFirecrawlOptionsChangeTrackingOptions',
    yamlPath: 'webSearch.firecrawlOptions.changeTrackingOptions',
    type: 'object',
    defaultValue: {},
    category: 'web-search',
    description: 'Change tracking configuration for Firecrawl',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'jinaApiKey',
    envKey: 'JINA_API_KEY',
    yamlPath: 'webSearch.jinaApiKey',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Jina API Key',
  },
  {
    id: 'jinaApiUrl',
    envKey: 'JINA_API_URL',
    yamlPath: 'webSearch.jinaApiUrl',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Jina API URL',
  },
  {
    id: 'cohereApiKey',
    envKey: 'COHERE_API_KEY',
    yamlPath: 'webSearch.cohereApiKey',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Cohere API Key (for reranking)',
  },
  
  // =============================================================================
  // Database Configuration
  // =============================================================================
  {
    id: 'mongoUri',
    envKey: 'MONGO_URI',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'MongoDB Connection URI',
  },
  {
    id: 'mongoRootUsername',
    envKey: 'MONGO_ROOT_USERNAME',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'MongoDB Root Username',
  },
  {
    id: 'mongoRootPassword',
    envKey: 'MONGO_ROOT_PASSWORD',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'MongoDB Root Password',
  },
  {
    id: 'mongoDbName',
    envKey: 'MONGO_DB_NAME',
    type: 'string',
    defaultValue: 'LibreChat',
    category: 'database',
    description: 'MongoDB Database Name',
  },
  {
    id: 'redisUri',
    envKey: 'REDIS_URI',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'Redis Connection URI',
  },
  {
    id: 'redisUsername',
    envKey: 'REDIS_USERNAME',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'Redis Username',
  },
  {
    id: 'redisPassword',
    envKey: 'REDIS_PASSWORD',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'Redis Password',
  },
  {
    id: 'redisKeyPrefix',
    envKey: 'REDIS_KEY_PREFIX',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'Redis Key Prefix',
  },
  {
    id: 'redisKeyPrefixVar',
    envKey: 'REDIS_KEY_PREFIX_VAR',
    type: 'string',
    defaultValue: '',
    category: 'database',
    description: 'Redis Key Prefix Variable',
  },
  {
    id: 'redisMaxListeners',
    envKey: 'REDIS_MAX_LISTENERS',
    type: 'number',
    defaultValue: 10,
    category: 'database',
    description: 'Redis Max Listeners',
    min: 1,
    max: 100,
  },
  {
    id: 'redisPingInterval',
    envKey: 'REDIS_PING_INTERVAL',
    type: 'number',
    defaultValue: 30000,
    category: 'database',
    description: 'Redis Ping Interval (ms)',
    min: 1000,
    max: 300000,
  },
  {
    id: 'redisUseAlternativeDNSLookup',
    envKey: 'REDIS_USE_ALTERNATIVE_DNS_LOOKUP',
    type: 'boolean',
    defaultValue: false,
    category: 'database',
    description: 'Redis Use Alternative DNS Lookup',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Security Configuration
  // =============================================================================
  {
    id: 'jwtSecret',
    envKey: 'JWT_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'security',
    description: 'JWT Secret Key',
  },
  {
    id: 'jwtRefreshSecret',
    envKey: 'JWT_REFRESH_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'security',
    description: 'JWT Refresh Secret Key',
  },
  {
    id: 'credsKey',
    envKey: 'CREDS_KEY',
    type: 'string',
    defaultValue: '',
    category: 'security',
    description: 'Credentials Encryption Key',
  },
  {
    id: 'credsIV',
    envKey: 'CREDS_IV',
    type: 'string',
    defaultValue: '',
    category: 'security',
    description: 'Credentials Initialization Vector',
  },
  {
    id: 'minPasswordLength',
    envKey: 'MIN_PASSWORD_LENGTH',
    type: 'number',
    defaultValue: 8,
    category: 'security',
    description: 'Minimum Password Length',
    min: 4,
    max: 64,
  },
  {
    id: 'emailVerificationRequired',
    envKey: 'EMAIL_VERIFICATION_REQUIRED',
    type: 'boolean',
    defaultValue: false,
    category: 'security',
    description: 'Require Email Verification',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'allowUnverifiedEmailLogin',
    envKey: 'ALLOW_UNVERIFIED_EMAIL_LOGIN',
    type: 'boolean',
    defaultValue: true,
    category: 'security',
    description: 'Allow Unverified Email Login',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'sessionExpiry',
    envKey: 'SESSION_EXPIRY',
    type: 'number',
    defaultValue: 900000,
    category: 'security',
    description: 'Session Expiry (ms)',
    min: 60000,
    max: 86400000,
  },
  {
    id: 'refreshTokenExpiry',
    envKey: 'REFRESH_TOKEN_EXPIRY',
    type: 'number',
    defaultValue: 604800000,
    category: 'security',
    description: 'Refresh Token Expiry (ms)',
    min: 3600000,
    max: 2592000000,
  },
  
  // =============================================================================
  // Authentication Configuration
  // =============================================================================
  {
    id: 'allowRegistration',
    envKey: 'ALLOW_REGISTRATION',
    type: 'boolean',
    defaultValue: true,
    category: 'auth',
    description: 'Allow User Registration',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'allowEmailLogin',
    envKey: 'ALLOW_EMAIL_LOGIN',
    type: 'boolean',
    defaultValue: true,
    category: 'auth',
    description: 'Allow Email/Password Login',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'allowSocialLogin',
    envKey: 'ALLOW_SOCIAL_LOGIN',
    type: 'boolean',
    defaultValue: false,
    category: 'auth',
    description: 'Allow Social Login',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'allowSocialRegistration',
    envKey: 'ALLOW_SOCIAL_REGISTRATION',
    type: 'boolean',
    defaultValue: false,
    category: 'auth',
    description: 'Allow Social Registration',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'allowPasswordReset',
    envKey: 'ALLOW_PASSWORD_RESET',
    type: 'boolean',
    defaultValue: true,
    category: 'auth',
    description: 'Allow Password Reset',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Email Configuration
  // =============================================================================
  {
    id: 'emailService',
    envKey: 'EMAIL_SERVICE',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Email Service Provider',
  },
  {
    id: 'emailUsername',
    envKey: 'EMAIL_USERNAME',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Email Username/Address',
  },
  {
    id: 'emailPassword',
    envKey: 'EMAIL_PASSWORD',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Email Password',
  },
  {
    id: 'emailFrom',
    envKey: 'EMAIL_FROM',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Email From Address',
  },
  {
    id: 'emailFromName',
    envKey: 'EMAIL_FROM_NAME',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Email From Name',
  },
  {
    id: 'mailgunApiKey',
    envKey: 'MAILGUN_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Mailgun API Key',
  },
  {
    id: 'mailgunDomain',
    envKey: 'MAILGUN_DOMAIN',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Mailgun Domain',
  },
  {
    id: 'mailgunHost',
    envKey: 'MAILGUN_HOST',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Mailgun Host',
  },
  
  // =============================================================================
  // OAuth Providers
  // =============================================================================
  {
    id: 'googleClientId',
    envKey: 'GOOGLE_CLIENT_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Google OAuth Client ID',
  },
  {
    id: 'googleClientSecret',
    envKey: 'GOOGLE_CLIENT_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Google OAuth Client Secret',
  },
  {
    id: 'googleCallbackUrl',
    envKey: 'GOOGLE_CALLBACK_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Google OAuth Callback URL',
  },
  {
    id: 'githubClientId',
    envKey: 'GITHUB_CLIENT_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'GitHub OAuth Client ID',
  },
  {
    id: 'githubClientSecret',
    envKey: 'GITHUB_CLIENT_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'GitHub OAuth Client Secret',
  },
  {
    id: 'githubCallbackUrl',
    envKey: 'GITHUB_CALLBACK_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'GitHub OAuth Callback URL',
  },
  {
    id: 'discordClientId',
    envKey: 'DISCORD_CLIENT_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Discord OAuth Client ID',
  },
  {
    id: 'discordClientSecret',
    envKey: 'DISCORD_CLIENT_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Discord OAuth Client Secret',
  },
  {
    id: 'discordCallbackUrl',
    envKey: 'DISCORD_CALLBACK_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Discord OAuth Callback URL',
  },
  {
    id: 'facebookClientId',
    envKey: 'FACEBOOK_CLIENT_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Facebook OAuth Client ID',
  },
  {
    id: 'facebookClientSecret',
    envKey: 'FACEBOOK_CLIENT_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Facebook OAuth Client Secret',
  },
  {
    id: 'facebookCallbackUrl',
    envKey: 'FACEBOOK_CALLBACK_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Facebook OAuth Callback URL',
  },
  {
    id: 'appleClientId',
    envKey: 'APPLE_CLIENT_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Apple OAuth Client ID',
  },
  {
    id: 'applePrivateKey',
    envKey: 'APPLE_PRIVATE_KEY',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Apple OAuth Private Key',
  },
  {
    id: 'appleKeyId',
    envKey: 'APPLE_KEY_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Apple OAuth Key ID',
  },
  {
    id: 'appleTeamId',
    envKey: 'APPLE_TEAM_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Apple OAuth Team ID',
  },
  {
    id: 'appleCallbackUrl',
    envKey: 'APPLE_CALLBACK_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'Apple OAuth Callback URL',
  },
  {
    id: 'openidUrl',
    envKey: 'OPENID_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect URL',
  },
  {
    id: 'openidClientId',
    envKey: 'OPENID_CLIENT_ID',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Client ID',
  },
  {
    id: 'openidClientSecret',
    envKey: 'OPENID_CLIENT_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Client Secret',
  },
  {
    id: 'openidCallbackUrl',
    envKey: 'OPENID_CALLBACK_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Callback URL',
  },
  {
    id: 'openidScope',
    envKey: 'OPENID_SCOPE',
    type: 'string',
    defaultValue: 'openid profile email',
    category: 'oauth',
    description: 'OpenID Connect Scope',
  },
  {
    id: 'openidSessionSecret',
    envKey: 'OPENID_SESSION_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Session Secret',
  },
  {
    id: 'openidIssuer',
    envKey: 'OPENID_ISSUER',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Issuer',
  },
  {
    id: 'openidButtonLabel',
    envKey: 'OPENID_BUTTON_LABEL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Button Label',
  },
  {
    id: 'openidImageUrl',
    envKey: 'OPENID_IMAGE_URL',
    type: 'string',
    defaultValue: '',
    category: 'oauth',
    description: 'OpenID Connect Image URL',
  },
  
  // =============================================================================
  // Enabled Endpoints
  // =============================================================================
  {
    id: 'enabledEndpoints',
    envKey: 'ENDPOINTS',
    type: 'endpoint-selector',
    defaultValue: [],
    category: 'endpoints',
    description: 'Choose which AI endpoints users can access',
    arrayItemType: 'string',
    envTransformer: (val) => val.split(',').map(v => v.trim()).filter(v => v),
  },
  
  // =============================================================================
  // AWS Legacy Keys (for S3 file storage)
  // =============================================================================
  {
    id: 'awsAccessKeyId',
    envKey: 'AWS_ACCESS_KEY_ID',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Access Key ID (legacy, for S3)',
  },
  {
    id: 'awsSecretAccessKey',
    envKey: 'AWS_SECRET_ACCESS_KEY',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Secret Access Key (legacy, for S3)',
  },
  {
    id: 'awsRegion',
    envKey: 'AWS_REGION',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Region (legacy, for S3)',
  },
  {
    id: 'awsBedrockRegion',
    envKey: 'AWS_BEDROCK_REGION',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Bedrock Region (alternative to AWS_REGION)',
  },
  {
    id: 'awsEndpointURL',
    envKey: 'AWS_ENDPOINT_URL',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Endpoint URL (for S3-compatible services)',
  },
  {
    id: 'awsBucketName',
    envKey: 'AWS_BUCKET_NAME',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS S3 Bucket Name',
  },
  
  // =============================================================================
  // File Storage
  // =============================================================================
  {
    id: 'fileUploadPath',
    envKey: 'FILE_UPLOAD_PATH',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Local File Upload Path',
  },
  {
    id: 'firebaseApiKey',
    envKey: 'FIREBASE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase API Key',
  },
  {
    id: 'firebaseAuthDomain',
    envKey: 'FIREBASE_AUTH_DOMAIN',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase Auth Domain',
  },
  {
    id: 'firebaseProjectId',
    envKey: 'FIREBASE_PROJECT_ID',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase Project ID',
  },
  {
    id: 'firebaseStorageBucket',
    envKey: 'FIREBASE_STORAGE_BUCKET',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase Storage Bucket',
  },
  {
    id: 'firebaseMessagingSenderId',
    envKey: 'FIREBASE_MESSAGING_SENDER_ID',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase Messaging Sender ID',
  },
  {
    id: 'firebaseAppId',
    envKey: 'FIREBASE_APP_ID',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase App ID',
  },
  {
    id: 'azureStorageConnectionString',
    envKey: 'AZURE_STORAGE_CONNECTION_STRING',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Azure Storage Connection String',
  },
  {
    id: 'azureStoragePublicAccess',
    envKey: 'AZURE_STORAGE_PUBLIC_ACCESS',
    type: 'boolean',
    defaultValue: false,
    category: 'file-storage',
    description: 'Azure Storage Public Access',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'azureContainerName',
    envKey: 'AZURE_CONTAINER_NAME',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Azure Container Name',
  },
  
  // =============================================================================
  // Search & External APIs
  // =============================================================================
  {
    id: 'googleSearchApiKey',
    envKey: 'GOOGLE_SEARCH_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Google Search API Key',
  },
  {
    id: 'googleCSEId',
    envKey: 'GOOGLE_CSE_ID',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Google Custom Search Engine ID',
  },
  {
    id: 'bingSearchApiKey',
    envKey: 'BING_SEARCH_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Bing Search API Key',
  },
  {
    id: 'openweatherApiKey',
    envKey: 'OPENWEATHER_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'OpenWeather API Key',
  },
  
  // =============================================================================
  // DALL-E Image Generation
  // =============================================================================
  {
    id: 'dalleApiKey',
    envKey: 'DALLE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E API Key',
  },
  {
    id: 'dalle3ApiKey',
    envKey: 'DALLE3_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E 3 API Key',
  },
  {
    id: 'dalle2ApiKey',
    envKey: 'DALLE2_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E 2 API Key',
  },
  {
    id: 'dalleReverseProxy',
    envKey: 'DALLE_REVERSE_PROXY',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E Reverse Proxy URL',
  },
  {
    id: 'dalle3BaseUrl',
    envKey: 'DALLE3_BASEURL',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E 3 Base URL',
  },
  {
    id: 'dalle2BaseUrl',
    envKey: 'DALLE2_BASEURL',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E 2 Base URL',
  },
  {
    id: 'dalle3SystemPrompt',
    envKey: 'DALLE3_SYSTEM_PROMPT',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E 3 System Prompt',
  },
  {
    id: 'dalle2SystemPrompt',
    envKey: 'DALLE2_SYSTEM_PROMPT',
    type: 'string',
    defaultValue: '',
    category: 'image-generation',
    description: 'DALL-E 2 System Prompt',
  },
  
  // =============================================================================
  // RAG API
  // =============================================================================
  {
    id: 'ragApiURL',
    envKey: 'RAG_API_URL',
    type: 'string',
    defaultValue: '',
    category: 'rag',
    description: 'RAG API URL',
  },
  {
    id: 'ragOpenaiApiKey',
    envKey: 'RAG_OPENAI_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'rag',
    description: 'RAG OpenAI API Key',
  },
  {
    id: 'ragPort',
    envKey: 'RAG_PORT',
    type: 'number',
    defaultValue: 8000,
    category: 'rag',
    description: 'RAG API Port',
    min: 1,
    max: 65535,
  },
  {
    id: 'ragHost',
    envKey: 'RAG_HOST',
    type: 'string',
    defaultValue: '',
    category: 'rag',
    description: 'RAG API Host',
  },
  {
    id: 'collectionName',
    envKey: 'COLLECTION_NAME',
    type: 'string',
    defaultValue: '',
    category: 'rag',
    description: 'RAG Collection Name',
  },
  {
    id: 'chunkSize',
    envKey: 'CHUNK_SIZE',
    type: 'number',
    defaultValue: 1500,
    category: 'rag',
    description: 'RAG Chunk Size',
    min: 100,
    max: 10000,
  },
  {
    id: 'chunkOverlap',
    envKey: 'CHUNK_OVERLAP',
    type: 'number',
    defaultValue: 100,
    category: 'rag',
    description: 'RAG Chunk Overlap',
    min: 0,
    max: 1000,
  },
  {
    id: 'embeddingsProvider',
    envKey: 'EMBEDDINGS_PROVIDER',
    type: 'string',
    defaultValue: '',
    category: 'rag',
    description: 'RAG Embeddings Provider',
  },
  
  // =============================================================================
  // MeiliSearch
  // =============================================================================
  {
    id: 'meilisearchURL',
    envKey: 'MEILISEARCH_URL',
    type: 'string',
    defaultValue: '',
    category: 'meilisearch',
    description: 'MeiliSearch URL',
  },
  {
    id: 'meilisearchMasterKey',
    envKey: 'MEILISEARCH_MASTER_KEY',
    type: 'string',
    defaultValue: '',
    category: 'meilisearch',
    description: 'MeiliSearch Master Key',
  },
  {
    id: 'meiliNoAnalytics',
    envKey: 'MEILI_NO_ANALYTICS',
    type: 'boolean',
    defaultValue: true,
    category: 'meilisearch',
    description: 'Disable MeiliSearch Analytics',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Rate Limiting & Security
  // =============================================================================
  {
    id: 'limitConcurrentMessages',
    envKey: 'LIMIT_CONCURRENT_MESSAGES',
    type: 'boolean',
    defaultValue: true,
    category: 'rate-limits',
    description: 'Limit Concurrent Messages',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'concurrentMessageMax',
    envKey: 'CONCURRENT_MESSAGE_MAX',
    type: 'number',
    defaultValue: 2,
    category: 'rate-limits',
    description: 'Concurrent Message Maximum',
    min: 1,
    max: 100,
  },
  {
    id: 'banViolations',
    envKey: 'BAN_VIOLATIONS',
    type: 'boolean',
    defaultValue: true,
    category: 'rate-limits',
    description: 'Ban Violations',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'banDuration',
    envKey: 'BAN_DURATION',
    type: 'number',
    defaultValue: 7200000,
    category: 'rate-limits',
    description: 'Ban Duration (ms)',
    min: 60000,
    max: 86400000,
  },
  {
    id: 'banInterval',
    envKey: 'BAN_INTERVAL',
    type: 'number',
    defaultValue: 20,
    category: 'rate-limits',
    description: 'Ban Interval',
    min: 1,
    max: 100,
  },
  {
    id: 'loginViolationScore',
    envKey: 'LOGIN_VIOLATION_SCORE',
    type: 'number',
    defaultValue: 1,
    category: 'rate-limits',
    description: 'Login Violation Score',
    min: 0,
    max: 100,
  },
  {
    id: 'registrationViolationScore',
    envKey: 'REGISTRATION_VIOLATION_SCORE',
    type: 'number',
    defaultValue: 1,
    category: 'rate-limits',
    description: 'Registration Violation Score',
    min: 0,
    max: 100,
  },
  {
    id: 'concurrentViolationScore',
    envKey: 'CONCURRENT_VIOLATION_SCORE',
    type: 'number',
    defaultValue: 1,
    category: 'rate-limits',
    description: 'Concurrent Violation Score',
    min: 0,
    max: 100,
  },
  {
    id: 'messageViolationScore',
    envKey: 'MESSAGE_VIOLATION_SCORE',
    type: 'number',
    defaultValue: 1,
    category: 'rate-limits',
    description: 'Message Violation Score',
    min: 0,
    max: 100,
  },
  {
    id: 'nonBrowserViolationScore',
    envKey: 'NON_BROWSER_VIOLATION_SCORE',
    type: 'number',
    defaultValue: 20,
    category: 'rate-limits',
    description: 'Non-Browser Violation Score',
    min: 0,
    max: 100,
  },
  {
    id: 'loginMax',
    envKey: 'LOGIN_MAX',
    type: 'number',
    defaultValue: 7,
    category: 'rate-limits',
    description: 'Login Maximum Attempts',
    min: 1,
    max: 100,
  },
  {
    id: 'loginWindow',
    envKey: 'LOGIN_WINDOW',
    type: 'number',
    defaultValue: 5,
    category: 'rate-limits',
    description: 'Login Window (minutes)',
    min: 1,
    max: 60,
  },
  
  // =============================================================================
  // LDAP
  // =============================================================================
  {
    id: 'ldapURL',
    envKey: 'LDAP_URL',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'LDAP Server URL',
  },
  {
    id: 'ldapBindDN',
    envKey: 'LDAP_BIND_DN',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'LDAP Bind DN',
  },
  {
    id: 'ldapBindCredentials',
    envKey: 'LDAP_BIND_CREDENTIALS',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'LDAP Bind Credentials',
  },
  {
    id: 'ldapSearchBase',
    envKey: 'LDAP_SEARCH_BASE',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'LDAP Search Base',
  },
  {
    id: 'ldapSearchFilter',
    envKey: 'LDAP_SEARCH_FILTER',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'LDAP Search Filter',
  },
  
  // =============================================================================
  // Turnstile (Cloudflare Captcha)
  // =============================================================================
  {
    id: 'turnstileSiteKey',
    envKey: 'TURNSTILE_SITE_KEY',
    type: 'string',
    defaultValue: '',
    category: 'security',
    description: 'Cloudflare Turnstile Site Key',
  },
  {
    id: 'turnstileSecretKey',
    envKey: 'TURNSTILE_SECRET_KEY',
    type: 'string',
    defaultValue: '',
    category: 'security',
    description: 'Cloudflare Turnstile Secret Key',
  },
  
  // =============================================================================
  // Features
  // =============================================================================
  {
    id: 'allowSharedLinks',
    envKey: 'ALLOW_SHARED_LINKS',
    type: 'boolean',
    defaultValue: true,
    category: 'features',
    description: 'Allow Shared Links',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'allowSharedLinksPublic',
    envKey: 'ALLOW_SHARED_LINKS_PUBLIC',
    type: 'boolean',
    defaultValue: false,
    category: 'features',
    description: 'Allow Public Shared Links',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'titleConvo',
    envKey: 'TITLE_CONVO',
    type: 'boolean',
    defaultValue: true,
    category: 'features',
    description: 'Enable Conversation Titles',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'summaryConvo',
    envKey: 'SUMMARY_CONVO',
    type: 'boolean',
    defaultValue: false,
    category: 'features',
    description: 'Enable Conversation Summaries',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Caching
  // =============================================================================
  {
    id: 'staticCacheMaxAge',
    envKey: 'STATIC_CACHE_MAX_AGE',
    type: 'string',
    defaultValue: '86400',
    category: 'caching',
    description: 'Static Cache Max Age',
  },
  {
    id: 'staticCacheSMaxAge',
    envKey: 'STATIC_CACHE_S_MAX_AGE',
    type: 'string',
    defaultValue: '86400',
    category: 'caching',
    description: 'Static Cache S-Max-Age',
  },
  {
    id: 'indexCacheControl',
    envKey: 'INDEX_CACHE_CONTROL',
    type: 'string',
    defaultValue: 'no-cache, no-store, must-revalidate',
    category: 'caching',
    description: 'Index Cache Control',
  },
  {
    id: 'indexPragma',
    envKey: 'INDEX_PRAGMA',
    type: 'string',
    defaultValue: 'no-cache',
    category: 'caching',
    description: 'Index Pragma',
  },
  {
    id: 'indexExpires',
    envKey: 'INDEX_EXPIRES',
    type: 'string',
    defaultValue: '0',
    category: 'caching',
    description: 'Index Expires',
  },
  
  // =============================================================================
  // MCP OAuth
  // =============================================================================
  {
    id: 'mcpOauthOnAuthError',
    envKey: 'MCP_OAUTH_ON_AUTH_ERROR',
    type: 'string',
    defaultValue: '',
    category: 'mcp',
    description: 'MCP OAuth On Auth Error',
  },
  {
    id: 'mcpOauthDetectionTimeout',
    envKey: 'MCP_OAUTH_DETECTION_TIMEOUT',
    type: 'number',
    defaultValue: 5000,
    category: 'mcp',
    description: 'MCP OAuth Detection Timeout (ms)',
    min: 1000,
    max: 60000,
  },
  
  // =============================================================================
  // Code Execution
  // =============================================================================
  {
    id: 'librechatCodeApiKey',
    envKey: 'LIBRECHAT_CODE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'code-execution',
    description: 'LibreChat Code API Key',
  },
  {
    id: 'librechatCodeBaseUrl',
    envKey: 'LIBRECHAT_CODE_BASEURL',
    type: 'string',
    defaultValue: '',
    category: 'code-execution',
    description: 'LibreChat Code Base URL',
  },
  {
    id: 'e2bApiKey',
    envKey: 'E2B_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'code-execution',
    description: 'E2B API Key',
  },
  {
    id: 'e2bProxyEnabled',
    envKey: 'E2B_PROXY_ENABLED',
    type: 'boolean',
    defaultValue: false,
    category: 'code-execution',
    description: 'E2B Proxy Enabled',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'e2bProxyPort',
    envKey: 'E2B_PROXY_PORT',
    type: 'number',
    defaultValue: 49160,
    category: 'code-execution',
    description: 'E2B Proxy Port',
    min: 1,
    max: 65535,
  },
  {
    id: 'e2bPublicBaseUrl',
    envKey: 'E2B_PUBLIC_BASE_URL',
    type: 'string',
    defaultValue: '',
    category: 'code-execution',
    description: 'E2B Public Base URL',
  },
  {
    id: 'e2bFileTTLDays',
    envKey: 'E2B_FILE_TTL_DAYS',
    type: 'number',
    defaultValue: 7,
    category: 'code-execution',
    description: 'E2B File TTL (days)',
    min: 1,
    max: 365,
  },
  {
    id: 'e2bMaxFileSize',
    envKey: 'E2B_MAX_FILE_SIZE',
    type: 'number',
    defaultValue: 10485760,
    category: 'code-execution',
    description: 'E2B Max File Size (bytes)',
    min: 1024,
    max: 104857600,
  },
  {
    id: 'e2bPerUserSandbox',
    envKey: 'E2B_PER_USER_SANDBOX',
    type: 'boolean',
    defaultValue: false,
    category: 'code-execution',
    description: 'E2B Per-User Sandbox',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Artifacts
  // =============================================================================
  {
    id: 'sandpackBundlerUrl',
    envKey: 'SANDPACK_BUNDLER_URL',
    type: 'string',
    defaultValue: '',
    category: 'artifacts',
    description: 'Sandpack Bundler URL',
  },
  
  // =============================================================================
  // User Management
  // =============================================================================
  {
    id: 'uid',
    envKey: 'UID',
    type: 'number',
    defaultValue: 1000,
    category: 'user-management',
    description: 'User ID',
    min: 0,
    max: 65535,
  },
  {
    id: 'gid',
    envKey: 'GID',
    type: 'number',
    defaultValue: 1000,
    category: 'user-management',
    description: 'Group ID',
    min: 0,
    max: 65535,
  },
  
  // =============================================================================
  // Debug
  // =============================================================================
  {
    id: 'debugLogging',
    envKey: 'DEBUG_LOGGING',
    type: 'boolean',
    defaultValue: false,
    category: 'debug',
    description: 'Enable Debug Logging',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'debugConsole',
    envKey: 'DEBUG_CONSOLE',
    type: 'boolean',
    defaultValue: false,
    category: 'debug',
    description: 'Enable Debug Console',
    envTransformer: (val) => val === 'true',
  },
  {
    id: 'consoleJSON',
    envKey: 'CONSOLE_JSON',
    type: 'boolean',
    defaultValue: false,
    category: 'debug',
    description: 'Console JSON Output',
    envTransformer: (val) => val === 'true',
  },
  
  // =============================================================================
  // Miscellaneous
  // =============================================================================
  {
    id: 'cdnProvider',
    envKey: 'CDN_PROVIDER',
    type: 'string',
    defaultValue: '',
    category: 'misc',
    description: 'CDN Provider',
  },
  {
    id: 'ocrApiKey',
    envKey: 'OCR_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'misc',
    description: 'OCR API Key',
  },
  {
    id: 'ocrApiBase',
    envKey: 'OCR_BASEURL',
    type: 'string',
    defaultValue: '',
    category: 'misc',
    description: 'OCR API Base URL',
  },
  {
    id: 'basePath',
    envKey: 'BASE_PATH',
    type: 'string',
    defaultValue: '',
    category: 'subdirectory',
    description: 'Base Path for subdirectory hosting',
  },
  {
    id: 'appUrl',
    envKey: 'APP_URL',
    type: 'string',
    defaultValue: '',
    category: 'subdirectory',
    description: 'App URL',
  },
  {
    id: 'publicSubPath',
    envKey: 'PUBLIC_SUB_PATH',
    type: 'string',
    defaultValue: '',
    category: 'subdirectory',
    description: 'Public Subdirectory Path',
  },

  // =============================================================================
  // YAML-Only Fields: Interface Configuration
  // =============================================================================
  {
    id: 'interfaceAgents',
    yamlPath: 'interface.agents',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show agents UI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceModelSelect',
    yamlPath: 'interface.modelSelect',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show model selector',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceParameters',
    yamlPath: 'interface.parameters',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show parameters',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceSidePanel',
    yamlPath: 'interface.sidePanel',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show side panel',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePresets',
    yamlPath: 'interface.presets',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show presets',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceEndpointsMenu',
    yamlPath: 'interface.endpointsMenu',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show endpoints menu',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePrompts',
    yamlPath: 'interface.prompts',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show prompts',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceBookmarks',
    yamlPath: 'interface.bookmarks',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show bookmarks',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceMultiConvo',
    yamlPath: 'interface.multiConvo',
    type: 'boolean',
    defaultValue: false,
    category: 'interface',
    description: 'Multi-conversation mode',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceWebSearch',
    yamlPath: 'interface.webSearch',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Web search UI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceFileSearch',
    yamlPath: 'interface.fileSearch',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'File search UI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceFileCitations',
    yamlPath: 'interface.fileCitations',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show file citations',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceRunCode',
    yamlPath: 'interface.runCode',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Code execution UI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceArtifacts',
    yamlPath: 'interface.artifacts',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Artifacts support',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceDefaultPreset',
    yamlPath: 'interface.defaultPreset',
    type: 'string',
    defaultValue: '',
    category: 'interface',
    description: 'Default preset ID',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceUploadAsText',
    yamlPath: 'interface.uploadAsText',
    type: 'boolean',
    defaultValue: false,
    category: 'interface',
    description: 'Upload files as text',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceTemporaryChatRetention',
    yamlPath: 'interface.temporaryChatRetention',
    type: 'number',
    defaultValue: 720,
    category: 'interface',
    description: 'Temporary chat retention time in minutes',
    min: 1,
    max: 43200,
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Web Search Additional Configuration
  // =============================================================================
  {
    id: 'webSearchProvider',
    yamlPath: 'webSearch.searchProvider',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Search provider (serper or searxng)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchScraperType',
    yamlPath: 'webSearch.scraperType',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Scraper type (firecrawl or jina)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchRerankerType',
    yamlPath: 'webSearch.rerankerType',
    type: 'string',
    defaultValue: '',
    category: 'web-search',
    description: 'Reranker type (jina or cohere)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchScraperTimeout',
    yamlPath: 'webSearch.scraperTimeout',
    type: 'number',
    defaultValue: 30000,
    category: 'web-search',
    description: 'Scraper timeout in milliseconds',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'webSearchSafeSearch',
    yamlPath: 'webSearch.safeSearch',
    type: 'number',
    defaultValue: 1,
    category: 'web-search',
    description: 'Safe search level: 0=OFF (no filtering), 1=MODERATE (default), 2=STRICT (maximum filtering)',
    min: 0,
    max: 2,
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: OCR Configuration
  // =============================================================================
  {
    id: 'ocrStrategy',
    yamlPath: 'ocr.strategy',
    type: 'string',
    defaultValue: '',
    category: 'ocr',
    description: 'OCR strategy',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ocrMistralModel',
    yamlPath: 'ocr.mistralModel',
    type: 'string',
    defaultValue: '',
    category: 'ocr',
    description: 'Mistral model for OCR',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ocrProvider',
    yamlPath: 'ocr.provider',
    type: 'string',
    defaultValue: '',
    category: 'ocr',
    description: 'OCR provider',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ocrModel',
    yamlPath: 'ocr.model',
    type: 'string',
    defaultValue: '',
    category: 'ocr',
    description: 'OCR model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ocrBaseURL',
    yamlPath: 'ocr.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'ocr',
    description: 'OCR base URL',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Tools Configuration
  // =============================================================================
  {
    id: 'filteredTools',
    yamlPath: 'filteredTools',
    type: 'array',
    defaultValue: [],
    category: 'tools',
    arrayItemType: 'string',
    description: 'Array of tool names to hide',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'includedTools',
    yamlPath: 'includedTools',
    type: 'array',
    defaultValue: [],
    category: 'tools',
    arrayItemType: 'string',
    description: 'Array of tool names to show',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Rate Limits Configuration
  // =============================================================================
  {
    id: 'rateLimitsFileUploadsIpMax',
    yamlPath: 'rateLimits.fileUploads.ipMax',
    type: 'number',
    defaultValue: 100,
    category: 'rate-limits',
    description: 'File upload rate limit per IP',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsFileUploadsIpWindowInMinutes',
    yamlPath: 'rateLimits.fileUploads.ipWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'File upload IP window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsFileUploadsUserMax',
    yamlPath: 'rateLimits.fileUploads.userMax',
    type: 'number',
    defaultValue: 50,
    category: 'rate-limits',
    description: 'File upload rate limit per user',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsFileUploadsUserWindowInMinutes',
    yamlPath: 'rateLimits.fileUploads.userWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'File upload user window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Speech/STT/TTS Configuration
  // =============================================================================
  {
    id: 'sttProvider',
    yamlPath: 'stt.provider',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech-to-text provider',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'sttModel',
    yamlPath: 'stt.model',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'STT model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'sttApiKey',
    yamlPath: 'stt.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'STT API key',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'sttBaseURL',
    yamlPath: 'stt.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'STT base URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'sttLanguage',
    yamlPath: 'stt.language',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'STT language',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ttsProvider',
    yamlPath: 'tts.provider',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Text-to-speech provider',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ttsModel',
    yamlPath: 'tts.model',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'TTS model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ttsApiKey',
    yamlPath: 'tts.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'TTS API key',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ttsBaseURL',
    yamlPath: 'tts.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'TTS base URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'ttsVoice',
    yamlPath: 'tts.voice',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'TTS voice',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextProvider',
    yamlPath: 'speech.speechTab.speechToText.provider',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab STT provider',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextModel',
    yamlPath: 'speech.speechTab.speechToText.model',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab STT model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextApiKey',
    yamlPath: 'speech.speechTab.speechToText.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab STT API key',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextBaseURL',
    yamlPath: 'speech.speechTab.speechToText.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab STT base URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextLanguage',
    yamlPath: 'speech.speechTab.speechToText.language',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab STT language',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechProvider',
    yamlPath: 'speech.speechTab.textToSpeech.provider',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab TTS provider',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechModel',
    yamlPath: 'speech.speechTab.textToSpeech.model',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab TTS model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechApiKey',
    yamlPath: 'speech.speechTab.textToSpeech.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab TTS API key',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechBaseURL',
    yamlPath: 'speech.speechTab.textToSpeech.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab TTS base URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechVoice',
    yamlPath: 'speech.speechTab.textToSpeech.voice',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech tab TTS voice',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabConversationMode',
    yamlPath: 'speech.speechTab.conversationMode',
    type: 'boolean',
    defaultValue: false,
    category: 'speech',
    description: 'Enable conversation mode in speech tab',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabAdvancedMode',
    yamlPath: 'speech.speechTab.advancedMode',
    type: 'boolean',
    defaultValue: false,
    category: 'speech',
    description: 'Enable advanced mode in speech tab',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextEngineSTT',
    yamlPath: 'speech.speechTab.speechToText.engineSTT',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech-to-text engine (browser or external)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextLanguageSTT',
    yamlPath: 'speech.speechTab.speechToText.languageSTT',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Speech-to-text language code',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextAutoTranscribeAudio',
    yamlPath: 'speech.speechTab.speechToText.autoTranscribeAudio',
    type: 'boolean',
    defaultValue: false,
    category: 'speech',
    description: 'Automatically transcribe audio input',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextDecibelValue',
    yamlPath: 'speech.speechTab.speechToText.decibelValue',
    type: 'number',
    defaultValue: -45,
    category: 'speech',
    description: 'Minimum decibel threshold for voice detection',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabSpeechToTextAutoSendText',
    yamlPath: 'speech.speechTab.speechToText.autoSendText',
    type: 'boolean',
    defaultValue: false,
    category: 'speech',
    description: 'Automatically send transcribed text',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechEngineTTS',
    yamlPath: 'speech.speechTab.textToSpeech.engineTTS',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Text-to-speech engine (browser or external)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechLanguageTTS',
    yamlPath: 'speech.speechTab.textToSpeech.languageTTS',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'Text-to-speech language code',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechAutomaticPlayback',
    yamlPath: 'speech.speechTab.textToSpeech.automaticPlayback',
    type: 'boolean',
    defaultValue: false,
    category: 'speech',
    description: 'Automatically play TTS audio responses',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechPlaybackRate',
    yamlPath: 'speech.speechTab.textToSpeech.playbackRate',
    type: 'number',
    defaultValue: 1.0,
    category: 'speech',
    description: 'TTS playback speed (0.5 to 2.0)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'speechSpeechTabTextToSpeechCacheTTS',
    yamlPath: 'speech.speechTab.textToSpeech.cacheTTS',
    type: 'boolean',
    defaultValue: false,
    category: 'speech',
    description: 'Cache TTS audio responses',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // LibreChat Native YAML Import Fields (speech.stt/tts.provider.*)
  // These fields enable importing LibreChat's native YAML structure.
  // They map to our internal top-level stt/tts schema using configPath.
  // Export is handled by generateSpeechSection which outputs LibreChat format.
  // 
  // PROVIDER DETECTION: LibreChat nests settings under provider names (openai, azure, etc.)
  // The provider is implicit in the key name, so we use yamlTransformer to extract it.
  // =============================================================================
  
  // STT Fields - OpenAI Provider
  {
    id: 'librechatSpeechSttOpenai',
    yamlPath: 'speech.stt.openai',
    configPath: 'stt.provider',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: STT OpenAI provider detected',
    yamlTransformer: (value: any) => value ? 'openai' : undefined,
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechSttOpenaiUrl',
    yamlPath: 'speech.stt.openai.url',
    configPath: 'stt.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI STT API URL',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechSttOpenaiApiKey',
    yamlPath: 'speech.stt.openai.apiKey',
    configPath: 'stt.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI STT API key',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechSttOpenaiModel',
    yamlPath: 'speech.stt.openai.model',
    configPath: 'stt.model',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI STT model',
    exportToEnv: false,
    exportToYaml: false,
  },
  
  // TTS Fields - OpenAI Provider
  {
    id: 'librechatSpeechTtsOpenai',
    yamlPath: 'speech.tts.openai',
    configPath: 'tts.provider',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: TTS OpenAI provider detected',
    yamlTransformer: (value: any) => value ? 'openai' : undefined,
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechTtsOpenaiUrl',
    yamlPath: 'speech.tts.openai.url',
    configPath: 'tts.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI TTS API URL',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechTtsOpenaiApiKey',
    yamlPath: 'speech.tts.openai.apiKey',
    configPath: 'tts.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI TTS API key',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechTtsOpenaiModel',
    yamlPath: 'speech.tts.openai.model',
    configPath: 'tts.model',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI TTS model',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechTtsOpenaiVoice',
    yamlPath: 'speech.tts.openai.voice',
    configPath: 'tts.voice',
    type: 'string',
    defaultValue: '',
    category: 'speech',
    description: 'LibreChat: OpenAI TTS voice',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechTtsOpenaiSpeed',
    yamlPath: 'speech.tts.openai.speed',
    configPath: 'tts.speed',
    type: 'number',
    defaultValue: 1.0,
    category: 'speech',
    description: 'LibreChat: OpenAI TTS speed',
    exportToEnv: false,
    exportToYaml: false,
  },
  {
    id: 'librechatSpeechTtsOpenaiQuality',
    yamlPath: 'speech.tts.openai.quality',
    configPath: 'tts.quality',
    type: 'string',
    defaultValue: 'standard',
    category: 'speech',
    description: 'LibreChat: OpenAI TTS quality',
    exportToEnv: false,
    exportToYaml: false,
  },

  // =============================================================================
  // YAML-Only Fields: Memory Configuration
  // =============================================================================
  {
    id: 'memoryTokenLimit',
    yamlPath: 'memory.tokenLimit',
    type: 'number',
    defaultValue: 2000,
    category: 'memory',
    description: 'Memory token limit',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryValidKeys',
    yamlPath: 'memory.validKeys',
    type: 'array',
    defaultValue: [],
    category: 'memory',
    arrayItemType: 'string',
    description: 'Valid memory keys',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryDisabled',
    yamlPath: 'memory.disabled',
    type: 'boolean',
    defaultValue: false,
    category: 'memory',
    description: 'Disable memory feature',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryPersonalize',
    yamlPath: 'memory.personalize',
    type: 'boolean',
    defaultValue: false,
    category: 'memory',
    description: 'Enable personalized memory',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryMessageWindowSize',
    yamlPath: 'memory.messageWindowSize',
    type: 'number',
    defaultValue: 10,
    category: 'memory',
    description: 'Message window size for memory context',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryAgentModelParametersTemperature',
    yamlPath: 'memory.agent.model_parameters.temperature',
    type: 'number',
    defaultValue: 0.7,
    category: 'memory',
    description: 'Temperature parameter for memory agent model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryAgentModelParametersMaxTokens',
    yamlPath: 'memory.agent.model_parameters.max_tokens',
    type: 'number',
    defaultValue: 2048,
    category: 'memory',
    description: 'Maximum tokens for memory agent model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryAgentModelParametersTopP',
    yamlPath: 'memory.agent.model_parameters.top_p',
    type: 'number',
    defaultValue: 1.0,
    category: 'memory',
    description: 'Top-p parameter for memory agent model',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'memoryAgentModelParametersFrequencyPenalty',
    yamlPath: 'memory.agent.model_parameters.frequency_penalty',
    type: 'number',
    defaultValue: 0.0,
    category: 'memory',
    description: 'Frequency penalty parameter for memory agent model',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Actions Configuration
  // =============================================================================
  {
    id: 'actionsAllowedDomains',
    yamlPath: 'actions.allowedDomains',
    type: 'array',
    defaultValue: [],
    category: 'actions',
    arrayItemType: 'string',
    description: 'Allowed domains for actions',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'actionsE2bCodeExecutionEnabled',
    yamlPath: 'actions.e2b_code_execution.enabled',
    type: 'boolean',
    defaultValue: false,
    category: 'actions',
    description: 'Enable E2B code execution action',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'actionsE2bCodeExecutionApiKey',
    yamlPath: 'actions.e2b_code_execution.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'actions',
    description: 'E2B code execution API key',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'actionsE2bCodeExecutionTimeout',
    yamlPath: 'actions.e2b_code_execution.timeout',
    type: 'number',
    defaultValue: 60000,
    category: 'actions',
    description: 'E2B code execution timeout in milliseconds',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'actionsE2bCodeExecutionMaxFileSize',
    yamlPath: 'actions.e2b_code_execution.maxFileSize',
    type: 'number',
    defaultValue: 10485760,
    category: 'actions',
    description: 'E2B max file size in bytes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'actionsE2bCodeExecutionEnvironment',
    yamlPath: 'actions.e2b_code_execution.environment',
    type: 'string',
    defaultValue: 'python',
    category: 'actions',
    description: 'E2B execution environment',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Registration Configuration
  // =============================================================================
  {
    id: 'registrationAllowedDomains',
    yamlPath: 'registration.allowedDomains',
    type: 'array',
    defaultValue: [],
    category: 'registration',
    arrayItemType: 'string',
    description: 'Allowed email domains for registration',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'registrationSocialLogins',
    yamlPath: 'registration.socialLogins',
    type: 'array',
    defaultValue: [],
    category: 'registration',
    arrayItemType: 'string',
    description: 'Enabled social login providers',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Model Specs / Presets Configuration
  // =============================================================================
  {
    id: 'modelSpecsEnforce',
    yamlPath: 'modelSpecs.enforce',
    type: 'boolean',
    defaultValue: false,
    category: 'model-specs',
    description: 'Enforce model specs',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'modelSpecsPrioritize',
    yamlPath: 'modelSpecs.prioritize',
    type: 'boolean',
    defaultValue: false,
    category: 'model-specs',
    description: 'Prioritize model specs',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'modelSpecsAddedEndpoints',
    yamlPath: 'modelSpecs.addedEndpoints',
    type: 'endpoint-selector',
    defaultValue: [],
    category: 'model-specs',
    arrayItemType: 'string',
    description: 'Select endpoints for model specifications',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: File Config
  // =============================================================================
  {
    id: 'fileConfigServerFileSizeLimit',
    yamlPath: 'fileConfig.serverFileSizeLimit',
    type: 'number',
    defaultValue: 100,
    category: 'file-config',
    description: 'Server file size limit in MB',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigAvatarSizeLimit',
    yamlPath: 'fileConfig.avatarSizeLimit',
    type: 'number',
    defaultValue: 2,
    category: 'file-config',
    description: 'Avatar size limit in MB',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigClientImageResizeEnabled',
    yamlPath: 'fileConfig.clientImageResize.enabled',
    type: 'boolean',
    defaultValue: false,
    category: 'file-config',
    description: 'Enable client-side image resizing',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigClientImageResizeMaxWidth',
    yamlPath: 'fileConfig.clientImageResize.maxWidth',
    type: 'number',
    defaultValue: 1920,
    category: 'file-config',
    description: 'Max image width in pixels',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigClientImageResizeMaxHeight',
    yamlPath: 'fileConfig.clientImageResize.maxHeight',
    type: 'number',
    defaultValue: 1080,
    category: 'file-config',
    description: 'Max image height in pixels',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigClientImageResizeQuality',
    yamlPath: 'fileConfig.clientImageResize.quality',
    type: 'number',
    defaultValue: 0.8,
    category: 'file-config',
    description: 'Image compression quality (0-1)',
    min: 0,
    max: 1,
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigClientImageResizeCompressFormat',
    yamlPath: 'fileConfig.clientImageResize.compressFormat',
    type: 'string',
    defaultValue: 'webp',
    category: 'file-config',
    description: 'Image compression format (jpeg, webp)',
    exportToEnv: false,
    exportToYaml: true,
  },
  
  // OpenAI Endpoint File Configuration
  {
    id: 'fileConfigEndpointsOpenAIFileLimit',
    yamlPath: 'fileConfig.endpoints.openAI.fileLimit',
    type: 'number',
    defaultValue: 5,
    category: 'file-config',
    description: 'Maximum number of files per upload request for OpenAI endpoint',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigEndpointsOpenAIFileSizeLimit',
    yamlPath: 'fileConfig.endpoints.openAI.fileSizeLimit',
    type: 'number',
    defaultValue: 10,
    category: 'file-config',
    description: 'Maximum size for a single file in MB for OpenAI endpoint',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigEndpointsOpenAITotalSizeLimit',
    yamlPath: 'fileConfig.endpoints.openAI.totalSizeLimit',
    type: 'number',
    defaultValue: 50,
    category: 'file-config',
    description: 'Maximum total size for all files in a request in MB for OpenAI endpoint',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigEndpointsOpenAISupportedMimeTypes',
    yamlPath: 'fileConfig.endpoints.openAI.supportedMimeTypes',
    type: 'file-types',
    defaultValue: ['image/*', 'application/pdf'],
    category: 'file-config',
    description: 'Allowed MIME types for OpenAI endpoint (supports wildcards)',
    exportToEnv: false,
    exportToYaml: true,
  },

  // Agents Endpoint File Configuration
  {
    id: 'fileConfigEndpointsAgentsFileLimit',
    yamlPath: 'fileConfig.endpoints.agents.fileLimit',
    type: 'number',
    defaultValue: 10,
    category: 'file-config',
    description: 'Maximum number of files per upload request for Agents endpoint',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigEndpointsAgentsFileSizeLimit',
    yamlPath: 'fileConfig.endpoints.agents.fileSizeLimit',
    type: 'number',
    defaultValue: 20,
    category: 'file-config',
    description: 'Maximum size for a single file in MB for Agents endpoint',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigEndpointsAgentsTotalSizeLimit',
    yamlPath: 'fileConfig.endpoints.agents.totalSizeLimit',
    type: 'number',
    defaultValue: 100,
    category: 'file-config',
    description: 'Maximum total size for all files in a request in MB for Agents endpoint',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'fileConfigEndpointsAgentsSupportedMimeTypes',
    yamlPath: 'fileConfig.endpoints.agents.supportedMimeTypes',
    type: 'file-types',
    defaultValue: ['image/*', 'application/pdf', 'text/*'],
    category: 'file-config',
    description: 'Allowed MIME types for Agents endpoint (supports wildcards)',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Additional Interface Nested Objects
  // =============================================================================
  {
    id: 'interfaceMarketplaceUse',
    yamlPath: 'interface.marketplace.use',
    type: 'boolean',
    defaultValue: false,
    category: 'interface',
    description: 'Enable marketplace feature',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceMcpServersPlaceholder',
    yamlPath: 'interface.mcpServers.placeholder',
    type: 'string',
    defaultValue: '',
    category: 'interface',
    description: 'MCP servers placeholder text',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePrivacyPolicyExternalUrl',
    yamlPath: 'interface.privacyPolicy.externalUrl',
    type: 'string',
    defaultValue: '',
    category: 'interface',
    description: 'Privacy policy external URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePrivacyPolicyOpenNewTab',
    yamlPath: 'interface.privacyPolicy.openNewTab',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Open privacy policy in new tab',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceTermsOfServiceExternalUrl',
    yamlPath: 'interface.termsOfService.externalUrl',
    type: 'string',
    defaultValue: '',
    category: 'interface',
    description: 'Terms of service external URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceTermsOfServiceOpenNewTab',
    yamlPath: 'interface.termsOfService.openNewTab',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Open terms of service in new tab',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceTermsOfServiceModalAcceptance',
    yamlPath: 'interface.termsOfService.modalAcceptance',
    type: 'boolean',
    defaultValue: false,
    category: 'interface',
    description: 'Require modal acceptance of terms',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceTermsOfServiceModalTitle',
    yamlPath: 'interface.termsOfService.modalTitle',
    type: 'string',
    defaultValue: '',
    category: 'interface',
    description: 'Terms modal title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfaceTermsOfServiceModalContent',
    yamlPath: 'interface.termsOfService.modalContent',
    type: 'string',
    defaultValue: '',
    category: 'interface',
    description: 'Terms modal content',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePeoplePickerUsers',
    yamlPath: 'interface.peoplePicker.users',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show users in people picker',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePeoplePickerGroups',
    yamlPath: 'interface.peoplePicker.groups',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show groups in people picker',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'interfacePeoplePickerRoles',
    yamlPath: 'interface.peoplePicker.roles',
    type: 'boolean',
    defaultValue: true,
    category: 'interface',
    description: 'Show roles in people picker',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Additional Rate Limits
  // =============================================================================
  {
    id: 'rateLimitsConversationsImportIpMax',
    yamlPath: 'rateLimits.conversationsImport.ipMax',
    type: 'number',
    defaultValue: 50,
    category: 'rate-limits',
    description: 'Conversation import rate limit per IP',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsConversationsImportIpWindowInMinutes',
    yamlPath: 'rateLimits.conversationsImport.ipWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'Conversation import IP window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsConversationsImportUserMax',
    yamlPath: 'rateLimits.conversationsImport.userMax',
    type: 'number',
    defaultValue: 25,
    category: 'rate-limits',
    description: 'Conversation import rate limit per user',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsConversationsImportUserWindowInMinutes',
    yamlPath: 'rateLimits.conversationsImport.userWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'Conversation import user window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsTtsIpMax',
    yamlPath: 'rateLimits.tts.ipMax',
    type: 'number',
    defaultValue: 100,
    category: 'rate-limits',
    description: 'TTS rate limit per IP',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsTtsIpWindowInMinutes',
    yamlPath: 'rateLimits.tts.ipWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'TTS IP window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsTtsUserMax',
    yamlPath: 'rateLimits.tts.userMax',
    type: 'number',
    defaultValue: 50,
    category: 'rate-limits',
    description: 'TTS rate limit per user',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsTtsUserWindowInMinutes',
    yamlPath: 'rateLimits.tts.userWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'TTS user window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsSttIpMax',
    yamlPath: 'rateLimits.stt.ipMax',
    type: 'number',
    defaultValue: 100,
    category: 'rate-limits',
    description: 'STT rate limit per IP',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsSttIpWindowInMinutes',
    yamlPath: 'rateLimits.stt.ipWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'STT IP window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsSttUserMax',
    yamlPath: 'rateLimits.stt.userMax',
    type: 'number',
    defaultValue: 50,
    category: 'rate-limits',
    description: 'STT rate limit per user',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsSttUserWindowInMinutes',
    yamlPath: 'rateLimits.stt.userWindowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'STT user window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsPerUserMax',
    yamlPath: 'rateLimits.perUser.max',
    type: 'number',
    defaultValue: 100,
    category: 'rate-limits',
    description: 'General rate limit per user',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsPerUserWindowInMinutes',
    yamlPath: 'rateLimits.perUser.windowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'General user window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsPerIpMax',
    yamlPath: 'rateLimits.perIP.max',
    type: 'number',
    defaultValue: 200,
    category: 'rate-limits',
    description: 'General rate limit per IP',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'rateLimitsPerIpWindowInMinutes',
    yamlPath: 'rateLimits.perIP.windowInMinutes',
    type: 'number',
    defaultValue: 60,
    category: 'rate-limits',
    description: 'General IP window in minutes',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Endpoints Configuration (selected high-priority fields)
  // =============================================================================
  {
    id: 'endpointsAgentsDisableBuilder',
    yamlPath: 'endpoints.agents.disableBuilder',
    type: 'boolean',
    defaultValue: false,
    category: 'endpoints',
    description: 'Disable agent builder',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAgentsRecursionLimit',
    yamlPath: 'endpoints.agents.recursionLimit',
    type: 'number',
    defaultValue: 50,
    category: 'endpoints',
    description: 'Agent recursion limit',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAgentsMaxRecursionLimit',
    yamlPath: 'endpoints.agents.maxRecursionLimit',
    type: 'number',
    defaultValue: 100,
    category: 'endpoints',
    description: 'Agent max recursion limit',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAgentsCapabilities',
    yamlPath: 'endpoints.agents.capabilities',
    type: 'array',
    defaultValue: ['execute_code', 'file_search', 'actions', 'tools', 'artifacts', 'context', 'ocr', 'chain', 'web_search'],
    category: 'endpoints',
    arrayItemType: 'string',
    description: 'Enabled agent capabilities',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAgentsMaxCitations',
    yamlPath: 'endpoints.agents.maxCitations',
    type: 'number',
    defaultValue: 30,
    category: 'endpoints',
    description: 'Maximum citations for agents',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAgentsMaxCitationsPerFile',
    yamlPath: 'endpoints.agents.maxCitationsPerFile',
    type: 'number',
    defaultValue: 7,
    category: 'endpoints',
    description: 'Maximum citations per file',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAgentsMinRelevanceScore',
    yamlPath: 'endpoints.agents.minRelevanceScore',
    type: 'number',
    defaultValue: 0.45,
    category: 'endpoints',
    description: 'Minimum relevance score for citations',
    min: 0,
    max: 1,
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitle',
    yamlPath: 'endpoints.openAI.title',
    type: 'string',
    defaultValue: 'OpenAI',
    category: 'endpoints',
    description: 'OpenAI endpoint display title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitleConvo',
    yamlPath: 'endpoints.openAI.titleConvo',
    type: 'boolean',
    defaultValue: true,
    category: 'endpoints',
    description: 'Enable conversation title generation for OpenAI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitleModel',
    yamlPath: 'endpoints.openAI.titleModel',
    type: 'string',
    defaultValue: 'gpt-3.5-turbo',
    category: 'endpoints',
    description: 'Model for title generation',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitleMethod',
    yamlPath: 'endpoints.openAI.titleMethod',
    type: 'enum',
    enumValues: ['completion', 'structured', 'functions'] as const,
    defaultValue: 'completion',
    category: 'endpoints',
    description: 'Method for title generation: completion (default), structured, or functions (legacy alias for structured)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitlePrompt',
    yamlPath: 'endpoints.openAI.titlePrompt',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Custom prompt for title generation. Must include {convo} placeholder.',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitlePromptTemplate',
    yamlPath: 'endpoints.openAI.titlePromptTemplate',
    type: 'string',
    defaultValue: 'User: {input}\\nAI: {output}',
    category: 'endpoints',
    description: 'Template for formatting conversation. Must include {input} and {output} placeholders.',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAITitleEndpoint',
    yamlPath: 'endpoints.openAI.titleEndpoint',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Alternative endpoint to use for title generation (e.g., "anthropic", "google", or custom endpoint name)',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAIApiKey',
    yamlPath: 'endpoints.openAI.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'OpenAI API key reference',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAIBaseURL',
    yamlPath: 'endpoints.openAI.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'OpenAI base URL for custom endpoints',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAIModels',
    yamlPath: 'endpoints.openAI.models',
    type: 'object',
    defaultValue: {},
    category: 'endpoints',
    description: 'OpenAI models configuration object',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAIModelsFetch',
    yamlPath: 'endpoints.openAI.models.fetch',
    type: 'boolean',
    defaultValue: true,
    category: 'endpoints',
    description: 'Fetch available models from OpenAI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAIModelsDefault',
    yamlPath: 'endpoints.openAI.models.default',
    type: 'array',
    defaultValue: [],
    category: 'endpoints',
    arrayItemType: 'string',
    description: 'Default OpenAI models',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsOpenAIDropParams',
    yamlPath: 'endpoints.openAI.dropParams',
    type: 'array',
    defaultValue: ['frequency_penalty', 'presence_penalty', 'stop', 'user'],
    category: 'endpoints',
    arrayItemType: 'string',
    description: 'Parameters to drop for OpenAI',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicTitle',
    yamlPath: 'endpoints.anthropic.title',
    type: 'string',
    defaultValue: 'Anthropic',
    category: 'endpoints',
    description: 'Anthropic endpoint display title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicApiKey',
    yamlPath: 'endpoints.anthropic.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Anthropic API key reference',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicModelsFetch',
    yamlPath: 'endpoints.anthropic.models.fetch',
    type: 'boolean',
    defaultValue: true,
    category: 'endpoints',
    description: 'Fetch available models from Anthropic',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicModelsDefault',
    yamlPath: 'endpoints.anthropic.models.default',
    type: 'array',
    defaultValue: [],
    category: 'endpoints',
    arrayItemType: 'string',
    description: 'Default Anthropic models',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicTitleConvo',
    yamlPath: 'endpoints.anthropic.titleConvo',
    type: 'boolean',
    defaultValue: true,
    category: 'endpoints',
    description: 'Enable conversation title generation for Anthropic',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicBaseURL',
    yamlPath: 'endpoints.anthropic.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Anthropic base URL for custom endpoints',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAnthropicModels',
    yamlPath: 'endpoints.anthropic.models',
    type: 'object',
    defaultValue: {},
    category: 'endpoints',
    description: 'Anthropic models configuration object',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGoogleTitle',
    yamlPath: 'endpoints.google.title',
    type: 'string',
    defaultValue: 'Google',
    category: 'endpoints',
    description: 'Google endpoint display title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGoogleApiKey',
    yamlPath: 'endpoints.google.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Google API key reference',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGoogleModelsFetch',
    yamlPath: 'endpoints.google.models.fetch',
    type: 'boolean',
    defaultValue: true,
    category: 'endpoints',
    description: 'Fetch available models from Google',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGoogleModelsDefault',
    yamlPath: 'endpoints.google.models.default',
    type: 'array',
    defaultValue: [],
    category: 'endpoints',
    arrayItemType: 'string',
    description: 'Default Google models',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGoogleBaseURL',
    yamlPath: 'endpoints.google.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Google base URL for custom endpoints',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGoogleModels',
    yamlPath: 'endpoints.google.models',
    type: 'object',
    defaultValue: {},
    category: 'endpoints',
    description: 'Google models configuration object',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsMistralTitle',
    yamlPath: 'endpoints.mistral.title',
    type: 'string',
    defaultValue: 'Mistral',
    category: 'endpoints',
    description: 'Mistral endpoint display title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsMistralApiKey',
    yamlPath: 'endpoints.mistral.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Mistral API key reference',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsMistralBaseURL',
    yamlPath: 'endpoints.mistral.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Mistral base URL for custom endpoints',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsMistralModels',
    yamlPath: 'endpoints.mistral.models',
    type: 'object',
    defaultValue: {},
    category: 'endpoints',
    description: 'Mistral models configuration object',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAzureOpenAITitle',
    yamlPath: 'endpoints.azureOpenAI.title',
    type: 'string',
    defaultValue: 'Azure OpenAI',
    category: 'endpoints',
    description: 'Azure OpenAI endpoint display title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAzureOpenAIApiKey',
    yamlPath: 'endpoints.azureOpenAI.apiKey',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Azure OpenAI API key reference',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAzureOpenAIInstanceName',
    yamlPath: 'endpoints.azureOpenAI.instanceName',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Azure OpenAI instance name',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAzureOpenAIVersion',
    yamlPath: 'endpoints.azureOpenAI.version',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Azure OpenAI API version',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAzureOpenAIBaseURL',
    yamlPath: 'endpoints.azureOpenAI.baseURL',
    type: 'string',
    defaultValue: '',
    category: 'endpoints',
    description: 'Azure OpenAI base URL',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsAzureOpenAIModels',
    yamlPath: 'endpoints.azureOpenAI.models',
    type: 'object',
    defaultValue: {},
    category: 'endpoints',
    description: 'Azure OpenAI models configuration object',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGptPluginsTitle',
    yamlPath: 'endpoints.gptPlugins.title',
    type: 'string',
    defaultValue: 'Plugins',
    category: 'endpoints',
    description: 'GPT Plugins endpoint display title',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'endpointsGptPluginsModels',
    yamlPath: 'endpoints.gptPlugins.models',
    type: 'object',
    defaultValue: {},
    category: 'endpoints',
    description: 'GPT Plugins models configuration object',
    exportToEnv: false,
    exportToYaml: true,
  },
  {
    id: 'registrationEnabled',
    yamlPath: 'registration.enabled',
    type: 'boolean',
    defaultValue: true,
    category: 'registration',
    description: 'Enable user registration',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Custom Endpoints Configuration
  // =============================================================================
  {
    id: 'customEndpoints',
    yamlPath: 'endpoints.custom',
    type: 'custom-endpoints',
    defaultValue: [],
    category: 'endpoints',
    description: 'Array of custom endpoint configurations',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: MCP Servers Configuration
  // =============================================================================
  {
    id: 'mcpServers',
    yamlPath: 'mcpServers',
    type: 'object',
    defaultValue: {},
    category: 'mcp',
    description: 'Model Context Protocol server configurations (dynamic object)',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // YAML-Only Fields: Model Specs List
  // =============================================================================
  {
    id: 'modelSpecsList',
    yamlPath: 'modelSpecs.list',
    type: 'array',
    defaultValue: [],
    category: 'model-specs',
    arrayItemType: 'object',
    description: 'Array of model spec preset objects',
    exportToEnv: false,
    exportToYaml: true,
  },

  // =============================================================================
  // AUTH: Missing Fields (5 fields)
  // =============================================================================
  {
    id: 'applePrivateKeyPath',
    envKey: 'APPLE_PRIVATE_KEY_PATH',
    type: 'string',
    defaultValue: '',
    category: 'auth',
    description: 'Absolute path to your downloaded .p8 file.',
  },
  {
    id: 'assistantsApiKey',
    envKey: 'ASSISTANTS_API_KEY',
    type: 'string',
    defaultValue: 'user_provided',
    category: 'auth',
    description: 'Your OpenAI API key for Assistants API. Leave blank to disable this endpoint or set to "user_provided" to allow users to provide their own API key from the WebUI.',
  },
  {
    id: 'entraIdIncludeOwnersAsMembers',
    envKey: 'ENTRA_ID_INCLUDE_OWNERS_AS_MEMBERS',
    type: 'boolean',
    defaultValue: false,
    category: 'auth',
    description: 'When enabled, Entra ID group owners will be considered as members of the group.',
  },
  {
    id: 'googleKey',
    envKey: 'GOOGLE_KEY',
    type: 'string',
    defaultValue: 'user_provided',
    category: 'auth',
    description: 'Google API key. Set to "user_provided" to allow users to provide their own API key from the WebUI.',
  },
  {
    id: 'useEntraIdForPeopleSearch',
    envKey: 'USE_ENTRA_ID_FOR_PEOPLE_SEARCH',
    type: 'boolean',
    defaultValue: false,
    category: 'auth',
    description: 'Enable Entra ID people search integration in permissions/sharing system. When enabled, the people picker will search both local database and Entra ID.',
  },

  // =============================================================================
  // SAML: Missing Fields (13 fields)
  // =============================================================================
  {
    id: 'samlButtonLabel',
    envKey: 'SAML_BUTTON_LABEL',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The label for the SAML login button.',
  },
  {
    id: 'samlCallbackUrl',
    envKey: 'SAML_CALLBACK_URL',
    type: 'string',
    defaultValue: '/oauth/saml/callback',
    category: 'saml',
    description: 'The callback URL for SAML authentication.',
  },
  {
    id: 'samlCert',
    envKey: 'SAML_CERT',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The SAML signing certificate, provided as a file path or a one-line PEM string.',
  },
  {
    id: 'samlEmailClaim',
    envKey: 'SAML_EMAIL_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The attribute in the SAML assertion containing the user email. (default: email)',
  },
  {
    id: 'samlEntryPoint',
    envKey: 'SAML_ENTRY_POINT',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The SAML identity provider (IdP) entry point URL.',
  },
  {
    id: 'samlFamilyNameClaim',
    envKey: 'SAML_FAMILY_NAME_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The attribute in the SAML assertion containing the family name. (default: family_name)',
  },
  {
    id: 'samlGivenNameClaim',
    envKey: 'SAML_GIVEN_NAME_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The attribute in the SAML assertion containing the given name. (default: given_name)',
  },
  {
    id: 'samlImageUrl',
    envKey: 'SAML_IMAGE_URL',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The URL of the SAML login button image.',
  },
  {
    id: 'samlIssuer',
    envKey: 'SAML_ISSUER',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The SAML service provider (SP) entity ID.',
  },
  {
    id: 'samlNameClaim',
    envKey: 'SAML_NAME_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The attribute in the SAML assertion containing the full name.',
  },
  {
    id: 'samlPictureClaim',
    envKey: 'SAML_PICTURE_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The attribute in the SAML assertion containing the profile picture URL. (default: picture)',
  },
  {
    id: 'samlSessionSecret',
    envKey: 'SAML_SESSION_SECRET',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The secret for SAML session storage.',
  },
  {
    id: 'samlUsernameClaim',
    envKey: 'SAML_USERNAME_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'saml',
    description: 'The attribute in the SAML assertion containing the username. (default: username)',
  },

  // =============================================================================
  // OPENID: Missing Fields (15 fields)
  // =============================================================================
  {
    id: 'openidAudience',
    envKey: 'OPENID_AUDIENCE',
    type: 'string',
    defaultValue: '',
    category: 'openid',
    description: 'The audience parameter for authorization requests. Required for Auth0 when OPENID_REUSE_TOKENS=true.',
  },
  {
    id: 'openidAutoRedirect',
    envKey: 'OPENID_AUTO_REDIRECT',
    type: 'boolean',
    defaultValue: false,
    category: 'openid',
    description: 'Whether to automatically redirect to the OpenID provider.',
  },
  {
    id: 'openidGraphScopes',
    envKey: 'OPENID_GRAPH_SCOPES',
    type: 'string',
    defaultValue: 'User.Read,People.Read,GroupMember.Read.All',
    category: 'openid',
    description: 'Microsoft Graph API scopes needed for people/group search. Default scopes provide access to user profiles and group memberships.',
  },
  {
    id: 'openidJwksUrlCacheEnabled',
    envKey: 'OPENID_JWKS_URL_CACHE_ENABLED',
    type: 'boolean',
    defaultValue: false,
    category: 'openid',
    description: 'Enable caching of signing key verification results.',
  },
  {
    id: 'openidJwksUrlCacheTime',
    envKey: 'OPENID_JWKS_URL_CACHE_TIME',
    type: 'number',
    defaultValue: 600000,
    category: 'openid',
    description: 'Cache duration in milliseconds (default: 600000 ms / 10 minutes).',
  },
  {
    id: 'openidNameClaim',
    envKey: 'OPENID_NAME_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'openid',
    description: 'The name claim attribute.',
  },
  {
    id: 'openidOnBehalfFlowForUserinfoRequired',
    envKey: 'OPENID_ON_BEHALF_FLOW_FOR_USERINFO_REQUIRED',
    type: 'boolean',
    defaultValue: false,
    category: 'openid',
    description: 'Enable on-behalf-of flow for user info.',
  },
  {
    id: 'openidOnBehalfFlowUserinfoScope',
    envKey: 'OPENID_ON_BEHALF_FLOW_USERINFO_SCOPE',
    type: 'string',
    defaultValue: 'user.read',
    category: 'openid',
    description: 'Scope for user info in on-behalf-of flow.',
  },
  {
    id: 'openidRequiredRole',
    envKey: 'OPENID_REQUIRED_ROLE',
    type: 'string',
    defaultValue: '',
    category: 'openid',
    description: 'The required role(s) for validation. Supports a single role or multiple comma-separated roles. When multiple roles are specified, the user needs ANY of the specified roles (OR logic).',
  },
  {
    id: 'openidRequiredRoleParameterPath',
    envKey: 'OPENID_REQUIRED_ROLE_PARAMETER_PATH',
    type: 'string',
    defaultValue: '',
    category: 'openid',
    description: 'The parameter path for required role validation.',
  },
  {
    id: 'openidRequiredRoleTokenKind',
    envKey: 'OPENID_REQUIRED_ROLE_TOKEN_KIND',
    type: 'string',
    defaultValue: '',
    category: 'openid',
    description: 'The token kind for required role validation.',
  },
  {
    id: 'openidReuseTokens',
    envKey: 'OPENID_REUSE_TOKENS',
    type: 'boolean',
    defaultValue: false,
    category: 'openid',
    description: 'Enable reuse of OpenID provider tokens for session management.',
  },
  {
    id: 'openidUsernameClaim',
    envKey: 'OPENID_USERNAME_CLAIM',
    type: 'string',
    defaultValue: '',
    category: 'openid',
    description: 'The username claim attribute.',
  },
  {
    id: 'openidUseEndSessionEndpoint',
    envKey: 'OPENID_USE_END_SESSION_ENDPOINT',
    type: 'boolean',
    defaultValue: false,
    category: 'openid',
    description: 'Enable use of the end session endpoint for logout.',
  },
  {
    id: 'openidUsePkce',
    envKey: 'OPENID_USE_PKCE',
    type: 'string',
    defaultValue: 'false',
    category: 'openid',
    description: 'Enable PKCE for OpenID authentication.',
  },

  // =============================================================================
  // LDAP: Missing Fields (2 fields)
  // =============================================================================
  {
    id: 'ldapCaCertPath',
    envKey: 'LDAP_CA_CERT_PATH',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'CA certificate path.',
  },
  {
    id: 'ldapUserSearchBase',
    envKey: 'LDAP_USER_SEARCH_BASE',
    type: 'string',
    defaultValue: '',
    category: 'ldap',
    description: 'LDAP user search base',
  },

  // =============================================================================
  // SEARCH: Azure AI Search Missing Fields (7 fields)
  // =============================================================================
  {
    id: 'azureAiSearchApiKey',
    envKey: 'AZURE_AI_SEARCH_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The API key for Azure AI Search.',
  },
  {
    id: 'azureAiSearchApiVersion',
    envKey: 'AZURE_AI_SEARCH_API_VERSION',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The API version for Azure AI Search.',
  },
  {
    id: 'azureAiSearchIndexName',
    envKey: 'AZURE_AI_SEARCH_INDEX_NAME',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The index name for Azure AI Search.',
  },
  {
    id: 'azureAiSearchSearchOptionQueryType',
    envKey: 'AZURE_AI_SEARCH_SEARCH_OPTION_QUERY_TYPE',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The query type for Azure AI Search.',
  },
  {
    id: 'azureAiSearchSearchOptionSelect',
    envKey: 'AZURE_AI_SEARCH_SEARCH_OPTION_SELECT',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The select fields for Azure AI Search.',
  },
  {
    id: 'azureAiSearchSearchOptionTop',
    envKey: 'AZURE_AI_SEARCH_SEARCH_OPTION_TOP',
    type: 'number',
    defaultValue: 0,
    category: 'search',
    description: 'The top count for Azure AI Search.',
  },
  {
    id: 'azureAiSearchServiceEndpoint',
    envKey: 'AZURE_AI_SEARCH_SERVICE_ENDPOINT',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The service endpoint for Azure AI Search.',
  },

  // =============================================================================
  // DATABASE: MongoDB Missing Fields (7 fields)
  // =============================================================================
  {
    id: 'mongoAutoCreate',
    envKey: 'MONGO_AUTO_CREATE',
    type: 'boolean',
    defaultValue: false,
    category: 'database',
    description: 'Set to false to disable Mongoose automatically calling createCollection() on every model created on this connection. When omitted, uses Mongoose default behavior.',
  },
  {
    id: 'mongoAutoIndex',
    envKey: 'MONGO_AUTO_INDEX',
    type: 'boolean',
    defaultValue: false,
    category: 'database',
    description: 'Set to false to disable automatic index creation for all models associated with this connection. When omitted, uses Mongoose default behavior.',
  },
  {
    id: 'mongoMaxConnecting',
    envKey: 'MONGO_MAX_CONNECTING',
    type: 'number',
    defaultValue: 0,
    category: 'database',
    description: 'The maximum number of connections that may be in the process of being established concurrently by the connection pool.',
  },
  {
    id: 'mongoMaxIdleTimeMs',
    envKey: 'MONGO_MAX_IDLE_TIME_MS',
    type: 'number',
    defaultValue: 0,
    category: 'database',
    description: 'The maximum number of milliseconds that a connection can remain idle in the pool before being removed and closed.',
  },
  {
    id: 'mongoMaxPoolSize',
    envKey: 'MONGO_MAX_POOL_SIZE',
    type: 'number',
    defaultValue: 0,
    category: 'database',
    description: 'The maximum number of connections in the connection pool.',
  },
  {
    id: 'mongoMinPoolSize',
    envKey: 'MONGO_MIN_POOL_SIZE',
    type: 'number',
    defaultValue: 0,
    category: 'database',
    description: 'The minimum number of connections in the connection pool.',
  },
  {
    id: 'mongoWaitQueueTimeoutMs',
    envKey: 'MONGO_WAIT_QUEUE_TIMEOUT_MS',
    type: 'number',
    defaultValue: 0,
    category: 'database',
    description: 'The maximum time in milliseconds that a thread can wait for a connection to become available.',
  },

  // =============================================================================
  // SECURITY: Rate Limiting & Violation Scores (11 fields)
  // =============================================================================
  {
    id: 'fileUploadViolationScore',
    envKey: 'FILE_UPLOAD_VIOLATION_SCORE',
    type: 'string',
    defaultValue: '0',
    category: 'security',
    description: 'Violation score for file uploads.',
  },
  {
    id: 'forkViolationScore',
    envKey: 'FORK_VIOLATION_SCORE',
    type: 'string',
    defaultValue: '0',
    category: 'security',
    description: 'Violation score for conversation forks.',
  },
  {
    id: 'importViolationScore',
    envKey: 'IMPORT_VIOLATION_SCORE',
    type: 'string',
    defaultValue: '0',
    category: 'security',
    description: 'Violation score for conversation imports.',
  },
  {
    id: 'messageIpMax',
    envKey: 'MESSAGE_IP_MAX',
    type: 'string',
    defaultValue: '40',
    category: 'security',
    description: 'Maximum messages per IP within MESSAGE_IP_WINDOW.',
  },
  {
    id: 'messageIpWindow',
    envKey: 'MESSAGE_IP_WINDOW',
    type: 'string',
    defaultValue: '1',
    category: 'security',
    description: 'Time window in minutes for MESSAGE_IP_MAX.',
  },
  {
    id: 'messageUserMax',
    envKey: 'MESSAGE_USER_MAX',
    type: 'string',
    defaultValue: '40',
    category: 'security',
    description: 'Maximum messages per user within MESSAGE_USER_WINDOW.',
  },
  {
    id: 'messageUserWindow',
    envKey: 'MESSAGE_USER_WINDOW',
    type: 'string',
    defaultValue: '1',
    category: 'security',
    description: 'Time window in minutes for MESSAGE_USER_MAX.',
  },
  {
    id: 'registerMax',
    envKey: 'REGISTER_MAX',
    type: 'string',
    defaultValue: '5',
    category: 'security',
    description: 'Maximum registration attempts within REGISTER_WINDOW.',
  },
  {
    id: 'registerWindow',
    envKey: 'REGISTER_WINDOW',
    type: 'string',
    defaultValue: '60',
    category: 'security',
    description: 'Time window in minutes for REGISTER_MAX.',
  },
  {
    id: 'sttViolationScore',
    envKey: 'STT_VIOLATION_SCORE',
    type: 'string',
    defaultValue: '0',
    category: 'security',
    description: 'Violation score for speech-to-text.',
  },
  {
    id: 'ttsViolationScore',
    envKey: 'TTS_VIOLATION_SCORE',
    type: 'string',
    defaultValue: '0',
    category: 'security',
    description: 'Violation score for text-to-speech.',
  },

  // =============================================================================
  // EMAIL: Missing Fields (3 fields)
  // =============================================================================
  {
    id: 'emailAllowSelfsigned',
    envKey: 'EMAIL_ALLOW_SELFSIGNED',
    type: 'boolean',
    defaultValue: false,
    category: 'email',
    description: 'Allow self-signed certificates.',
  },
  {
    id: 'emailEncryption',
    envKey: 'EMAIL_ENCRYPTION',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Encryption method (starttls, tls, etc.).',
  },
  {
    id: 'emailEncryptionHostname',
    envKey: 'EMAIL_ENCRYPTION_HOSTNAME',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Hostname for encryption.',
  },
  {
    id: 'emailHost',
    envKey: 'EMAIL_HOST',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Mail server host.',
  },
  {
    id: 'emailPort',
    envKey: 'EMAIL_PORT',
    type: 'number',
    defaultValue: 25,
    category: 'email',
    description: 'Mail server port.',
  },

  // =============================================================================
  // DEBUG: Missing Fields (2 fields)
  // =============================================================================
  {
    id: 'debugOpenai',
    envKey: 'DEBUG_OPENAI',
    type: 'boolean',
    defaultValue: false,
    category: 'debug',
    description: 'Enable debug mode for the OpenAI endpoint.',
  },
  {
    id: 'debugPlugins',
    envKey: 'DEBUG_PLUGINS',
    type: 'boolean',
    defaultValue: true,
    category: 'debug',
    description: 'Set to false to disable debug mode for plugins.',
  },

  // =============================================================================
  // FILE STORAGE: Missing Fields (4 fields)
  // =============================================================================
  // NOTE: awsEndpointUrl removed - duplicate of awsEndpointURL (line 1378)

  // =============================================================================
  // EXTERNAL APIS: Missing Fields (7 fields)
  // =============================================================================
  {
    id: 'fluxApiBaseUrl',
    envKey: 'FLUX_API_BASE_URL',
    type: 'string',
    defaultValue: 'https://api.us1.bfl.ai',
    category: 'external-apis',
    description: 'Flux API base URL.',
  },
  // NOTE: googleCseId removed - duplicate of googleCSEId (line 1491)
  {
    id: 'serpapiApiKey',
    envKey: 'SERPAPI_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Your SerpAPI API key.',
  },
  {
    id: 'tavilyApiKey',
    envKey: 'TAVILY_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Tavily API key.',
  },
  {
    id: 'wolframAppId',
    envKey: 'WOLFRAM_APP_ID',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Wolfram Alpha App ID.',
  },
  {
    id: 'traversaalApiKey',
    envKey: 'TRAVERSAAL_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Traversaal API key.',
  },
  {
    id: 'youtubeApiKey',
    envKey: 'YOUTUBE_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'YouTube API key.',
  },
  {
    id: 'zapierNlaApiKey',
    envKey: 'ZAPIER_NLA_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Zapier NLA API key.',
  },

  // =============================================================================
  // SYSTEM: Missing Fields (10 fields)
  // =============================================================================
  {
    id: 'illegalModelReqScore',
    envKey: 'ILLEGAL_MODEL_REQ_SCORE',
    type: 'string',
    defaultValue: '5',
    category: 'system',
    description: 'Violation score for illegal model requests.',
  },
  {
    id: 'limitMessageIp',
    envKey: 'LIMIT_MESSAGE_IP',
    type: 'boolean',
    defaultValue: true,
    category: 'system',
    description: 'Whether to limit the amount of messages an IP can send per MESSAGE_IP_WINDOW.',
  },
  {
    id: 'limitMessageUser',
    envKey: 'LIMIT_MESSAGE_USER',
    type: 'boolean',
    defaultValue: false,
    category: 'system',
    description: 'Whether to limit the amount of messages an user can send per MESSAGE_USER_WINDOW.',
  },
  {
    id: 'meiliHost',
    envKey: 'MEILI_HOST',
    type: 'string',
    defaultValue: 'http://0.0.0.0:7700',
    category: 'system',
    description: 'The API server connection to the search server.',
  },
  {
    id: 'meiliMasterKey',
    envKey: 'MEILI_MASTER_KEY',
    type: 'string',
    defaultValue: 'DrhYf7zENyR6AlUCKmnz0eYASOQdl6zxH7s7MKFSfFCt',
    category: 'system',
    description: 'The master key for MeiliSearch.',
  },
  {
    id: 'proxy',
    envKey: 'PROXY',
    type: 'string',
    defaultValue: '',
    category: 'system',
    description: 'Proxy setting for all endpoints.',
  },
  {
    id: 'sdWebuiUrl',
    envKey: 'SD_WEBUI_URL',
    type: 'string',
    defaultValue: 'http://host.docker.internal:7860',
    category: 'system',
    description: 'Stable Diffusion web UI URL.',
  },
  {
    id: 'search',
    envKey: 'SEARCH',
    type: 'boolean',
    defaultValue: true,
    category: 'system',
    description: 'Enables search in messages and conversations.',
  },
  {
    id: 'trustProxy',
    envKey: 'TRUST_PROXY',
    type: 'number',
    defaultValue: 1,
    category: 'system',
    description: 'Specifies the number of hops.',
  },

  // =============================================================================
  // DATABASE: MongoDB Additional Timeout Fields (4 fields)
  // =============================================================================
  {
    id: 'mongoConnectTimeoutMS',
    envKey: 'MONGO_CONNECT_TIMEOUT_MS',
    type: 'number',
    defaultValue: 30000,
    category: 'database',
    description: 'The amount of time in milliseconds to wait before timing out the initial connection.',
  },
  {
    id: 'mongoSocketTimeoutMS',
    envKey: 'MONGO_SOCKET_TIMEOUT_MS',
    type: 'number',
    defaultValue: 0,
    category: 'database',
    description: 'The number of milliseconds to wait before timing out a socket when no data is received.',
  },
  {
    id: 'mongoServerSelectionTimeoutMS',
    envKey: 'MONGO_SERVER_SELECTION_TIMEOUT_MS',
    type: 'number',
    defaultValue: 30000,
    category: 'database',
    description: 'The amount of time in milliseconds to wait for server selection to succeed before timing out.',
  },
  {
    id: 'mongoHeartbeatFrequencyMS',
    envKey: 'MONGO_HEARTBEAT_FREQUENCY_MS',
    type: 'number',
    defaultValue: 10000,
    category: 'database',
    description: 'The interval in milliseconds for monitoring heartbeats to MongoDB servers.',
  },

  // =============================================================================
  // SEARCH: Azure AI Search Additional Fields (7 fields)
  // =============================================================================
  {
    id: 'azureAiSearchEmbeddingDeploymentName',
    envKey: 'AZURE_AI_SEARCH_EMBEDDING_DEPLOYMENT_NAME',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The embedding deployment name for Azure AI Search.',
  },
  {
    id: 'azureAiSearchSemanticConfiguration',
    envKey: 'AZURE_AI_SEARCH_SEMANTIC_CONFIGURATION',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The semantic configuration for Azure AI Search.',
  },
  {
    id: 'azureAiSearchQueryType',
    envKey: 'AZURE_AI_SEARCH_QUERY_TYPE',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The query type for Azure AI Search (semantic, vector, hybrid).',
  },
  {
    id: 'azureAiSearchVectorFieldName',
    envKey: 'AZURE_AI_SEARCH_VECTOR_FIELD_NAME',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The vector field name for Azure AI Search.',
  },
  {
    id: 'azureAiSearchContentFieldName',
    envKey: 'AZURE_AI_SEARCH_CONTENT_FIELD_NAME',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The content field name for Azure AI Search.',
  },
  {
    id: 'azureAiSearchTitleFieldName',
    envKey: 'AZURE_AI_SEARCH_TITLE_FIELD_NAME',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The title field name for Azure AI Search.',
  },
  {
    id: 'azureAiSearchUrlFieldName',
    envKey: 'AZURE_AI_SEARCH_URL_FIELD_NAME',
    type: 'string',
    defaultValue: '',
    category: 'search',
    description: 'The URL field name for Azure AI Search.',
  },

  // =============================================================================
  // FILE STORAGE: Additional Provider Fields (4 fields)
  // =============================================================================
  {
    id: 'awsAccessKeyIdFileStorage',
    envKey: 'AWS_ACCESS_KEY_ID_FILE_STORAGE',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Access Key ID specifically for file storage (alternative to general AWS_ACCESS_KEY_ID).',
  },
  {
    id: 'awsSecretAccessKeyFileStorage',
    envKey: 'AWS_SECRET_ACCESS_KEY_FILE_STORAGE',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Secret Access Key specifically for file storage (alternative to general AWS_SECRET_ACCESS_KEY).',
  },
  {
    id: 'awsRegionFileStorage',
    envKey: 'AWS_REGION_FILE_STORAGE',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'AWS Region specifically for file storage (alternative to general AWS_REGION).',
  },
  {
    id: 'firebaseServiceAccountKey',
    envKey: 'FIREBASE_SERVICE_ACCOUNT_KEY',
    type: 'string',
    defaultValue: '',
    category: 'file-storage',
    description: 'Firebase service account key JSON for file storage authentication.',
  },

  // =============================================================================
  // EMAIL: Additional Mailgun & Advanced Fields (2 fields)
  // =============================================================================
  {
    id: 'mailgunWebhookSigningKey',
    envKey: 'MAILGUN_WEBHOOK_SIGNING_KEY',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Mailgun webhook signing key for webhook verification.',
  },
  {
    id: 'emailReplyToAddress',
    envKey: 'EMAIL_REPLY_TO_ADDRESS',
    type: 'string',
    defaultValue: '',
    category: 'email',
    description: 'Reply-to email address for outgoing emails.',
  },

  // =============================================================================
  // EXTERNAL APIS: Additional Service Keys (5 fields)
  // =============================================================================
  {
    id: 'fluxApiKey',
    envKey: 'FLUX_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Flux API key for image generation.',
  },
  {
    id: 'sdWebuiImageGenUrl',
    envKey: 'SD_WEBUI_IMAGE_GEN_URL',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Stable Diffusion WebUI image generation URL.',
  },
  {
    id: 'sdWebuiImageEditUrl',
    envKey: 'SD_WEBUI_IMAGE_EDIT_URL',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Stable Diffusion WebUI image editing URL.',
  },
  {
    id: 'travelApiKey',
    envKey: 'TRAVEL_API_KEY',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Travel API key.',
  },
  {
    id: 'pollinations',
    envKey: 'POLLINATIONS',
    type: 'string',
    defaultValue: '',
    category: 'external-apis',
    description: 'Pollinations AI service configuration.',
  },
];

/**
 * Helper: Get all fields that have ENV keys
 */
export function getEnvFields(): FieldDescriptor[] {
  return FIELD_REGISTRY.filter(f => f.envKey && f.exportToEnv !== false);
}

/**
 * Helper: Get all fields that have YAML paths
 */
export function getYamlFields(): FieldDescriptor[] {
  return FIELD_REGISTRY.filter(f => f.yamlPath && f.exportToYaml !== false);
}

/**
 * Helper: Get field by ID
 */
export function getFieldById(id: string): FieldDescriptor | undefined {
  return FIELD_REGISTRY.find(f => f.id === id);
}

/**
 * Helper: Get field by ENV key
 */
export function getFieldByEnvKey(envKey: string): FieldDescriptor | undefined {
  return FIELD_REGISTRY.find(f => f.envKey === envKey);
}

/**
 * Helper: Get field by YAML path
 */
export function getFieldByYamlPath(yamlPath: string): FieldDescriptor | undefined {
  return FIELD_REGISTRY.find(f => f.yamlPath === yamlPath);
}

/**
 * Helper: Get all ENV keys (for validation)
 */
export function getAllEnvKeys(): Set<string> {
  return new Set(getEnvFields().map(f => f.envKey!));
}

/**
 * Helper: Get all YAML paths (for validation)
 */
export function getAllYamlPaths(): Set<string> {
  return new Set(getYamlFields().map(f => f.yamlPath!));
}

/**
 * Helper: Generate default configuration object
 */
export function generateDefaults(): Record<string, any> {
  const defaults: Record<string, any> = {};
  
  for (const field of FIELD_REGISTRY) {
    defaults[field.id] = field.defaultValue;
  }
  
  return defaults;
}
